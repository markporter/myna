<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--
JsUnit - a JUnit port for JavaScript
Copyright (C) 1999,2000,2001,2002,2003,2006,2007 Joerg Schaible

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>JsUnit: Apache Maven 2</title>
<link href="JsUnit.css" rel="stylesheet" type="text/css">
</head><body>
<table width="100%" class="header"><tr>
<td width="100%"><div class="header"><span class="J">J</span><span class="s">s</span><span class="U">U</span>nit <small>1.3</small></div></td>
<td>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_xclick">
<input type="hidden" name="business" value="joehni@mail.berlios.de">
<input type="hidden" name="item_name" value="JsUnit">
<input type="image" src="PayPal.png" border="0" name="submit" alt="Make a donation using PayPal">
</form></td>
<td><a href="http://developer.berlios.de/projects/jsunit"><img name="HeadBerliOS" src="berlios.png" width="118" height="52" border="0" alt="Project Developer Home"></a></td>
<td><a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0 width=110 height=52></a></td>
</tr></table>
<script type="text/javascript" language="JavaScript">
<!--
// Reference BerliOS if viewed in the web.
if(   window.location.protocol.indexOf( "http", 0 ) == 0
   && window.location.host != "localhost" 
   && window.location.host != "127.0.0.1" )
{
    document.HeadBerliOS.src = "http://developer.berlios.de/sflogo.php?group_id=158&type=1";
}
//-->
</script>
<hr>

<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1><a class="anchor" name="maven2">Apache Maven 2</a></h1> 

<div class="JsUnit">

<p>
<a href="http://maven.apache.org/">Maven 2</a> is a build tool from the Apache Software Foundation generally used for Java development. It uses a Project Object Model defined in a <em>pom.xml</em> file to describe the build. Maven 2 uses a lifecycle where at each phase of this lifecycle different goals can be attached that are provided by plugins. The JsUnit plugin is automatically attached to the test <em>test</em> phase.<p>
The JsUnit plugin uses <a class="el" href="rhino.html">Rhino</a> to perform the JavaScript tests.<h2><a class="anchor" name="m2repo">
The Maven 2 Repository at BerliOS</a></h2>
The artifacts of JsUnit and its plugin is located in the Maven 2 repository at BerliOS. The released versions will also be available at Maven's central repository, but the upload procedure may cause some time gap. The reports generated by Maven are also available.<p>
<ul>
<li>
<a href="maven2/repo">Repository for released artifacts</a> </li>
<li>
<a href="maven2/snapshots">Repository for snapshots</a> </li>
<li>
<a href="reports/index.html">Maven Reports</a> </li>
</ul>
<h2><a class="anchor" name="m2plugin">
Using the Maven 2 Plugin</a></h2>
The JsUnit Maven plugin has simply to be declared in the <em>build</em> section with the other plugins. As usual with Maven 2 all necessary dependencies are automatically available. The plugin itself is published with groupId <em>de.berlios.jsunit</em> and artifactDi <em>jsunit-maven2-plugin</em> in the Maven repository of JsUnit at BerliOS and in Maven's central repository also.<p>
The configuration section of the plugin has following elements:<p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b>Name</b> </td><td><b>Description</b> </td><td><b>Default</b>  </td></tr>
<tr>
<td>printSummary </td><td>A flag to enable a summary for the performed unit tests. </td><td>${maven.test.skip}  </td></tr>
<tr>
<td>reportsDirectory </td><td>The directory where the plugin writes the results of the unit tests. </td><td>${project.build.directory}/surefire-reports  </td></tr>
<tr>
<td>skip </td><td>A flag to skip the JavaScript unit tests completely. </td><td>${maven.test.skip}  </td></tr>
<tr>
<td>skipExec </td><td>A flag to skip the execution of the JavaScript unit tests, but the JavaScript code is still loaded into the JavaScript engine to detect possible syntax problems. </td><td>${maven.test.skip.exec}  </td></tr>
<tr>
<td>sourceDirectory </td><td>The root directory for the JavaScript sources. All <em>source</em> declarations are relative to this setting. </td><td>${basedir}/src/main/webapp/js  </td></tr>
<tr>
<td>sources </td><td>An array of <em>source</em> elements. Each element contains a name to a JavaScript source file (relative to the path given in <em>sourceDirectory</em>). The sequence of the <em>source</em> elements define the sequence the files are loaded into the JavaScript engine. </td><td>${basedir}/src/main/webapp/js  </td></tr>
<tr>
<td>testFailureIgnore </td><td>A flag to allow the current build to continue ignoring possible test failures. </td><td>${maven.test.failure.ignore}  </td></tr>
<tr>
<td>testSourceDirectory </td><td>The root directory for the JavaScript unit test sources. All <em>include</em> declarations in a <em>testSuite</em> are relative to this setting. </td><td>${basedir}/src/test/js  </td></tr>
<tr>
<td>testSuites </td><td>An array of <em>testSuite</em> elements. </td><td>&nbsp;  </td></tr>
</table>
<p>
A <em>testSuite</em> contains following elements:<p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b>Name</b> </td><td><b>Description</b> </td><td><b>Default</b>  </td></tr>
<tr>
<td>includes </td><td>An array of <em>include</em> elements. Each element defines a file pattern with a name relative to the <em>testSourceDirectory</em> element. </td><td>&nbsp;  </td></tr>
<tr>
<td>name </td><td>The name of the test suite. </td><td>&nbsp;  </td></tr>
<tr>
<td>type </td><td>The type of the test suite, one of the following values: <dl>
<dt>ALLTESTS </dt>
<dd>Looks for a class AllTests derived from <a class="el" href="classTestSuite.html" title="A TestSuite is a composition of Tests.">TestSuite</a> and runs its suite. </dd>
<dt>TESTSUITES </dt>
<dd>Looks for all classes ending with <a class="el" href="classTestSuite.html" title="A TestSuite is a composition of Tests.">TestSuite</a> and that are derived from <a class="el" href="classTestSuite.html" title="A TestSuite is a composition of Tests.">TestSuite</a> and run their suites. </dd>
<dt>TESTCASES </dt>
<dd>Looks for all classes ending with <a class="el" href="classTestCase.html" title="A test case defines the fixture to run multiple tests.">TestCase</a> and that are derived from <a class="el" href="classTestCase.html" title="A test case defines the fixture to run multiple tests.">TestCase</a> and runs them (the default). </dd>
</dl>
</td><td>TESTCASES  </td></tr>
</table>
<h2><a class="anchor" name="m2example">
Example build.xml</a></h2>
The following JsUnit plugin declaration is used in the POM file of the samples directory.<p>
 <div class="fragment"><pre class="fragment">            &lt;plugin&gt;
                &lt;groupId&gt;de.berlios.jsunit&lt;/groupId&gt;
                &lt;artifactId&gt;jsunit-maven2-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;<span class="keywordtype">id</span>&gt;test&lt;/<span class="keywordtype">id</span>&gt;
                        &lt;configuration&gt;
                            &lt;sourceDirectory&gt;.&lt;/sourceDirectory&gt;
                            &lt;sources&gt;
                                &lt;source&gt;money/IMoney.js&lt;/source&gt;
                                &lt;source&gt;money/Money.js&lt;/source&gt;
                                &lt;source&gt;money/MoneyBag.js&lt;/source&gt;
                            &lt;/sources&gt;
                            &lt;testSourceDirectory&gt;.&lt;/testSourceDirectory&gt;
                            &lt;reportsDirectory&gt;${project.build.directory}/surefire-reports&lt;/reportsDirectory&gt;
                            &lt;testSuites&gt;
                                &lt;testSuite&gt;
                                    &lt;name&gt;SampleSuite&lt;/name&gt;
                                    &lt;type&gt;TESTCASES&lt;/type&gt;
                                    &lt;includes&gt;
                                        &lt;include&gt;money<span class="comment">/*.js&lt;/include&gt;</span>
<span class="comment">                                    &lt;/includes&gt;</span>
<span class="comment">                                &lt;/testSuite&gt;</span>
<span class="comment">                            &lt;/testSuites&gt;</span>
<span class="comment">                        &lt;/configuration&gt;</span>
<span class="comment">                        &lt;goals&gt;</span>
<span class="comment">                            &lt;goal&gt;jsunit-test&lt;/goal&gt;</span>
<span class="comment">                        &lt;/goals&gt;</span>
<span class="comment">                    &lt;/execution&gt;</span>
<span class="comment">                &lt;/executions&gt;</span>
<span class="comment">            &lt;/plugin&gt;</span>
</pre></div><p>
 

</div>

 <hr>
<table width="100%" class="header">
    <tr>
        <td>
            <div align="left">
            <small>JsUnit &copy; 1999, 2000, 2001, 2002, 2003, 2006, 2007 by J&ouml;rg Schaible</small>
            </div>
        </td>
        <td>
            <div align="right">
                <small>Generated on Fri Oct 19 23:10:41 2007 for <b>JsUnit</b> by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.5.2</small>
            </div>
        </td>
    </tr>
</table>
</body>
</html>
