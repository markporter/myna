<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>/data/home_mark/myna/web/shared/js/FlightPath/framework/FlightPath.txt - Myna Application Server</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script><script type="text/javascript" src="../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../js/shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../../js/shjs/css/sh_mild_white.css"></head><body id=ContentPage onLoad="NDOnLoad();sh_highlightDocument();"><script language=JavaScript><!--
if (browserType) {document.write("<div id=" + browserType + ">");if (browserVer) {document.write("<div id=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 02-10-2007 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile CTopic" id=MainTopic><h1 class=CTitle><a name="FlightPath.txt"></a>FlightPath.txt</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#FlightPath.txt" >FlightPath.txt</a></td><td class=SDescription></td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#Overview" >Overview</a></td><td class=SDescription>Myna FlightPath is a Model-View-Controller(MVC) web application framework inspired by CakePHP, CFWheels and Ruby On Rails.</td></tr><tr class="SGeneric"><td class=SEntry><a href="#Glossary" >Glossary</a></td><td class=SDescription>Terms used when talking about Myna FlightPath Applications</td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#Getting_Started" >Getting Started</a></td><td class=SDescription>To create a FilghtPath template, navigate to the Myna Administrator and select &ldquo;Add/Update FlightPath App&rdquo;, and enter a path folder name, relative to the Myna web root. </td></tr><tr class="SGeneric"><td class=SEntry><a href="#FlightPath_Config" >FlightPath Config</a></td><td class=SDescription>FlightPath configuration is stored in the &ldquo;config&rdquo; property of $application.</td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#Behaviors" >Behaviors</a></td><td class=SDescription>Behaviors are functions that are applied to the current object.</td></tr><tr class="SGeneric"><td class=SEntry><a href="#Elements" >Elements</a></td><td class=SDescription>An element file is a specialized view (see: <a href="#Views" class=LGeneric id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Views</a>) that is intended to contain a fragment of output (usually HTML) that can be used in a view</td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#Layouts" >Layouts</a></td><td class=SDescription>A layout file is a specialized view (see: <a href="#Views" class=LGeneric id=link2 onMouseOver="ShowTip(event, 'tt1', 'link2')" onMouseOut="HideTip('tt1')">Views</a>) that is intended to wrap content before sending it to the browser.</td></tr><tr class="SGeneric"><td class=SEntry><a href="#Modules" >Modules</a></td><td class=SDescription>Modules are self-contained FlightPath applications that can be embedded in other applications. </td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#Routes" >Routes</a></td><td class=SDescription>Routes are URL patterns that can be mapped to controllers and actions. </td></tr><tr class="SGeneric"><td class=SEntry><a href="#Views" >Views</a></td><td class=SDescription>View Templates are .ejs templates used to render the result of an action. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Overview"></a>Overview</h3><div class=CBody><p class=CParagraph>Myna FlightPath is a Model-View-Controller(MVC) web application framework inspired by CakePHP, CFWheels and Ruby On Rails.</p><h4 class=CHeading>Before you begin</h4><ul class=CBulletList><li>What is MVC?&nbsp; <a href="http://wikipedia.org/wiki/Model-view-controller" class=LURL>http://wikipedia.org/wiki/Model-view-controller</a></li><li>What is CoC?&nbsp; (convention over configuration)?&nbsp; <a href="http://wikipedia.org/wiki/Convention_over_configuration" class=LURL>http://wikipedia.org<span class=HB>- </span>/wiki<span class=HB>- </span>/Convention_over_configuration</a></li></ul><p class=CParagraph>Myna FlightPath is an application template that implements may of the repetitive infrastructure web developers typically have to create to start working on a web application.</p><h4 class=CHeading>FlightPath Features</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>MVC framework</td><td class=CDLDescription>Strong separation of data, business logic and display.Each of these can be manipulated independent of the others.</td></tr><tr><td class=CDLEntry>Automatic model generation</td><td class=CDLDescription>If your application has a single datasource, FlightPath will create models for that datasource automatically, just when needed.&nbsp; FlightPath will also analyze foreign key relationships and create related models.&nbsp; Data type constraints are also analyzed and become validators.&nbsp; See: <a href="Model-sjs.html#Model" class=LClass id=link3 onMouseOver="ShowTip(event, 'tt2', 'link3')" onMouseOut="HideTip('tt2')">Model</a></td></tr><tr><td class=CDLEntry>URL &ldquo;routes&rdquo;</td><td class=CDLDescription>It is possible with FlightPath to map virtually any URL to an action.&nbsp; &ldquo;appdir/book/get/12&rdquo;, &ldquo;appdir/mypage.html&rdquo;, &ldquo;appdir/index.sjs?controller=test&amp;action=run&rdquo; are all valid URLs.&nbsp; An action can even have multiple routes assigned to it.</td></tr><tr><td class=CDLEntry>Ext.Direct support</td><td class=CDLDescription>FlightPath provides a builtin-in controller to handle Ext.Direct API calls.&nbsp; See: <a href="controllers/direct_controller-sjs.html#Controller:Direct" class=LClass id=link4 onMouseOver="ShowTip(event, 'tt3', 'link4')" onMouseOut="HideTip('tt3')">Controller: Direct</a></td></tr><tr><td class=CDLEntry>Authentication and authorization</td><td class=CDLDescription>FlightPath comes with an optional permissions behavior that can secure individual controllers or whole applications.&nbsp; See: <a href="behaviors/controllers/myna_auth-sjs.html#Behavior:MynaAuth" class=LClass id=link5 onMouseOver="ShowTip(event, 'tt4', 'link5')" onMouseOut="HideTip('tt4')">Behavior: MynaAuth</a></td></tr></table></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Glossary"></a>Glossary</h3><div class=CBody><p class=CParagraph>Terms used when talking about Myna FlightPath Applications</p><h4 class=CHeading>Terms</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$flash</td><td class=CDLDescription>Global temporary message store.&nbsp; Intended for displaying messages to the user regardless of which action will be next loaded.&nbsp; Used by <a href="FlightPath-sjs.html#$FP.redirectTo" class=LFunction id=link6 onMouseOver="ShowTip(event, 'tt5', 'link6')" onMouseOut="HideTip('tt5')">$FP.redirectTo</a> and the default <u>Layout</u>.&nbsp; See: <a href="Flash-sjs.html#$flash" class=LClass id=link7 onMouseOver="ShowTip(event, 'tt6', 'link7')" onMouseOut="HideTip('tt6')">$flash</a></td></tr><tr><td class=CDLEntry>$FP</td><td class=CDLDescription>Global FlightPath object that contains functions accessible from everywhere in a FlightPath application.&nbsp; See: <a href="FlightPath-sjs.html#$FP" class=LClass id=link8 onMouseOver="ShowTip(event, 'tt7', 'link8')" onMouseOut="HideTip('tt7')">$FP</a></td></tr><tr><td class=CDLEntry>Action</td><td class=CDLDescription>A function on a <u>Controller</u> that takes input from a web request, sets data on the controller instance, and picks a <u>View</u> to render the data back to the browser.</td></tr><tr><td class=CDLEntry>Behavior</td><td class=CDLDescription>A mixin class that overrides, alters, or appends functionality to a class.&nbsp; Behaviors can be applied to either <u>Controllers</u> or <u>Models</u>.&nbsp; See: <a href="#Behaviors" class=LGeneric id=link9 onMouseOver="ShowTip(event, 'tt8', 'link9')" onMouseOut="HideTip('tt8')">Behaviors</a></td></tr><tr><td class=CDLEntry>Controller</td><td class=CDLDescription>Refers to either a <a href="Controller-sjs.html#Controller" class=LClass id=link10 onMouseOver="ShowTip(event, 'tt9', 'link10')" onMouseOut="HideTip('tt9')">Controller</a> class or instance.&nbsp; Controllers contain <u>Actions</u> manage <u>Layouts</u>, an contain <u>Behaviors</u>, and <u>Filters</u></td></tr><tr><td class=CDLEntry>Element</td><td class=CDLDescription>Specialized <u>View</u> template for containing output snippets to be included in a <u>View</u></td></tr><tr><td class=CDLEntry>Filter</td><td class=CDLDescription>A function applied in the init() function of a Controller to be executed before or after an <u>Action</u>.&nbsp; This can be used to alter how actions are performed without changing the actions themselves.&nbsp; For example authentication and permissions checks can be performed in filters and certain actions can be denied or audited.&nbsp; See: <a href="Controller-sjs.html#Controller.addFilter" class=LFunction id=link11 onMouseOver="ShowTip(event, 'tt10', 'link11')" onMouseOut="HideTip('tt10')">Controller.addFilter</a></td></tr><tr><td class=CDLEntry>Helpers</td><td class=CDLDescription>Helpers are function libraries used inside of <u>Views</u> and <u>Actions</u> for repetitive tasks, usually related to generating output.&nbsp; See: <a href="helpers/Html-sjs.html#$FP.helpers.Html" class=LClass >$FP.helpers.Html</a></td></tr><tr><td class=CDLEntry>Layout</td><td class=CDLDescription>Specialized <u>View</u> template set in a <u>Controller</u> to wrap content created by an <u>Action</u></td></tr><tr><td class=CDLEntry>Model</td><td class=CDLDescription>Refers to either a <a href="Model-sjs.html#Model" class=LClass id=link12 onMouseOver="ShowTip(event, 'tt2', 'link12')" onMouseOut="HideTip('tt2')">Model</a> class or instance.&nbsp; Models in FlightPath are static singletons (Only one instance per request).&nbsp; Model Functions can return one or more <a href="Model-sjs.html#beanClass" class=LClass id=link13 onMouseOver="ShowTip(event, 'tt11', 'link13')" onMouseOut="HideTip('tt11')">beanClass</a> instances that contain the actual model data</td></tr><tr><td class=CDLEntry>Route</td><td class=CDLDescription>A URL pattern that maps to a controller an d action.&nbsp; A FlightPath application can support multiple routes.&nbsp; See: <a href="#Routes" class=LGeneric id=link14 onMouseOver="ShowTip(event, 'tt12', 'link14')" onMouseOut="HideTip('tt12')">Routes</a></td></tr><tr><td class=CDLEntry>View</td><td class=CDLDescription>An .ejs template intended to be sent to the browser.&nbsp; There are also specialized views: <a href="#Layouts" class=LGeneric id=link15 onMouseOver="ShowTip(event, 'tt13', 'link15')" onMouseOut="HideTip('tt13')">Layouts</a> and <a href="#Elements" class=LGeneric id=link16 onMouseOver="ShowTip(event, 'tt14', 'link16')" onMouseOut="HideTip('tt14')">Elements</a></td></tr></table></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Getting_Started"></a>Getting Started</h3><div class=CBody><p class=CParagraph>To create a FilghtPath template, navigate to the Myna Administrator and select &ldquo;Add/Update FlightPath App&rdquo;, and enter a path folder name, relative to the Myna web root.&nbsp; If this directory does not exist, it will be created.&nbsp; Once The FlightPath template has been unpacked you will see a directory structure like this:</p><blockquote><pre class="CCode sh_myna">+-application.sjs<br>+-app/<br>  +...<br>+-framework/<br>  +...</pre></blockquote><p class=CParagraph>The &ldquo;framework&rdquo; folder contains the FlightPath framework code.&nbsp; These files will be overwritten future uses of the &ldquo;Add/Update FlightPath App&rdquo; feature.&nbsp; Here you will find built-in controllers and behaviors such as <a href="controllers/direct_controller-sjs.html#Controller:Direct" class=LClass id=link17 onMouseOver="ShowTip(event, 'tt3', 'link17')" onMouseOut="HideTip('tt3')">Controller: Direct</a> and <a href="behaviors/controllers/myna_auth-sjs.html#Behavior:MynaAuth" class=LClass id=link18 onMouseOver="ShowTip(event, 'tt4', 'link18')" onMouseOut="HideTip('tt4')">Behavior: MynaAuth</a>.&nbsp; You should not modify any files in this folder.</p><p class=CParagraph>&rdquo;application.sjs&rdquo; is a standard Myna application definition (See: <a href="../files/standard_objects/app-sjs.html#$application" class=LClass id=link19 onMouseOver="ShowTip(event, 'tt15', 'link19')" onMouseOut="HideTip('tt15')">$application</a>), With custom &ldquo;config&rdquo; section specific to FlightPath (See: <a href="#FlightPath_Config" class=LGeneric id=link20 onMouseOver="ShowTip(event, 'tt16', 'link20')" onMouseOut="HideTip('tt16')">FlightPath Config</a>)</p><p class=CParagraph>The &ldquo;app&rdquo; folder contains your application.&nbsp; These files will not be altered by future uses of the &ldquo;Add/Update FlightPath App&rdquo; feature.</p><blockquote><pre class="CCode sh_myna">+-app/<br>    +-behaviors/<br>    | +-controllers/<br>    | \-models/<br>    +-controllers/<br>    | \-global.sjs<br>    +-models/<br>    | \-global.sjs<br>    +-modules/<br>    +-static/<br>    \-views/<br>      +-elements/<br>      +-home.ejs<br>      +-layouts/<br>      | \-default.ejs<br>      \-themes/</pre></blockquote><h4 class=CHeading>&rdquo;app&rdquo; sub-folders</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>behaviors</td><td class=CDLDescription>Stores <a href="Controller-sjs.html#Controller" class=LClass id=link21 onMouseOver="ShowTip(event, 'tt9', 'link21')" onMouseOut="HideTip('tt9')">Controller</a> behaviors in the &ldquo;controllers&rdquo; folder and <a href="Model-sjs.html#Model" class=LClass id=link22 onMouseOver="ShowTip(event, 'tt2', 'link22')" onMouseOut="HideTip('tt2')">Model</a> behaviors in the &ldquo;model&rdquo; folder.&nbsp; See <a href="#Behaviors" class=LGeneric id=link23 onMouseOver="ShowTip(event, 'tt8', 'link23')" onMouseOut="HideTip('tt8')">Behaviors</a></td></tr><tr><td class=CDLEntry>controllers</td><td class=CDLDescription>Stores <a href="Controller-sjs.html#Controller" class=LClass id=link24 onMouseOver="ShowTip(event, 'tt9', 'link24')" onMouseOut="HideTip('tt9')">Controller</a> files.&nbsp; File names should be lower case with underbars (_) between words and &ldquo;_controller&rdquo; on the end, e.g.&nbsp; MyItem becomes my_item_controller.sjs.&nbsp; The global.sjs file is included before every controller file.&nbsp; Use this file for global initialization and/or to add common functions to all controllers.&nbsp; The init() in the global.sjs file is executed before the controller&rsquo;s init()</td></tr><tr><td class=CDLEntry>models</td><td class=CDLDescription>Stores <a href="Model-sjs.html#Model" class=LClass id=link25 onMouseOver="ShowTip(event, 'tt2', 'link25')" onMouseOut="HideTip('tt2')">Model</a> files.&nbsp; File names should be lower case with underbars (_) between words and &ldquo;_model&rdquo; on the end, e.g.&nbsp; MyItem becomes my_item_model.sjs.&nbsp; The global.sjs file is included before every model file.&nbsp; Use this file for global initialization and/or to add common functions to all models.&nbsp; The init() in the global.sjs file is executed before the model&rsquo;s init()</td></tr><tr><td class=CDLEntry>modules</td><td class=CDLDescription>Modules are self-contained FlightPath applications that can be embedded in other applications.&nbsp; These controllers, models and views can be accessed as if they were in the main application.&nbsp; See: <a href="#Modules" class=LGeneric id=link26 onMouseOver="ShowTip(event, 'tt17', 'link26')" onMouseOut="HideTip('tt17')">Modules</a></td></tr><tr><td class=CDLEntry>static</td><td class=CDLDescription>This folder contains static content that will not be interpreted as Myna or FlightPath code.&nbsp; These files are accessed via <a href="http://server.tld/appname/static/filename" class=LURL>http://server.tld/appname/static/filename</a> This is a good place for images, client-side JavaScript files and css files</td></tr><tr><td class=CDLEntry>views</td><td class=CDLDescription>This folder contains a sub-folder for each controller that has views.&nbsp; For example the view for the Main controller&rsquo;s index() action would be views/main/index.ejs</td></tr><tr><td class=CDLEntry>views/home.ejs</td><td class=CDLDescription>default page loaded if no homeRoute is defined (see: <a href="#FlightPath_Config" class=LGeneric id=link27 onMouseOver="ShowTip(event, 'tt16', 'link27')" onMouseOut="HideTip('tt16')">FlightPath Config</a>) views/</td></tr></table></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="FlightPath_Config"></a>FlightPath Config</h3><div class=CBody><p class=CParagraph>FlightPath configuration is stored in the &ldquo;config&rdquo; property of $application.</p><p class=CParagraph>Here is the default FlightPath config</p><blockquote><pre class="CCode sh_myna">//--------- FlightPath config -----------------------------------------<br>    config:{<br>        ds:{<br>            &quot;default&quot;:&quot;flight_path_app&quot;<br>        },<br>        homeRoute:{<br>            controller:&quot;Main&quot;,<br>            action:&quot;index&quot;<br>        },<br>        routes:[{<br>            name:&quot;pages&quot;,<br>            pattern:&quot;page/$page*&quot;,<br>            controller:&quot;page&quot;,<br>            action:&quot;display&quot;,<br>            page:&quot;$page&quot;<br>        },{<br>            name:&quot;default&quot;,<br>            pattern:&quot;$controller/$action/$id&quot;,<br>            controller:&quot;$controller&quot;,<br>            action:&quot;$action&quot;,<br>            id:&quot;$id&quot;<br>        }],<br>        //frameworkFolder:&quot;file:/home/mark/myna/web/shared/js/FlightPath/framework&quot;,<br>        MyCustomProperty:&quot;woot!&quot;<br>    },</pre></blockquote><h4 class=CHeading>&rdquo;ds&rdquo;</h4><p class=CParagraph>This structure lists data sources and their manager aliases, where the property is the alias, and the value is the DS name.&nbsp; Normally you only need the default data source.&nbsp; However, if you need access to models from multiple data sources, list them here.&nbsp; Note that you also need to set the manager property of the model to match the manager alias defined here, for any models beyond the default model/DS</p><h4 class=CHeading>&rdquo;homeRoute&rdquo;</h4><p class=CParagraph>Defines the default route the will be executed when no url is provided, i.e.&nbsp; &ldquo;http/server.tld/appname/&rdquo;.&nbsp; This structure should include everything that should be passed as &ldquo;params&rdquo; to the action</p><h4 class=CHeading>&rdquo;routes&rdquo;</h4><p class=CParagraph>Defines what routes are available in this app.&nbsp; See: <a href="#Routes" class=LGeneric id=link28 onMouseOver="ShowTip(event, 'tt12', 'link28')" onMouseOut="HideTip('tt12')">Routes</a></p><h4 class=CHeading>&rdquo;frameworkFolder&rdquo;</h4><p class=CParagraph>Defaults to &ldquo;framework&rdquo;.&nbsp; This is the <a href="../files/MynaPath-txt.html#MynaPath" class=LGeneric id=link29 onMouseOver="ShowTip(event, 'tt18', 'link29')" onMouseOut="HideTip('tt18')">MynaPath</a> to where the framework folder is located.&nbsp; Setting this to a central location will allow all FlightPath apps to share these files and be upgraded at once.&nbsp; Using the example path of &ldquo;<a href="file:/home/mark/myna/web/shared/js/FlightPath/framework" class=LURL>file:/home<span class=HB>- </span>/mark<span class=HB>- </span>/myna<span class=HB>- </span>/web<span class=HB>- </span>/shared<span class=HB>- </span>/js<span class=HB>- </span>/FlightPath<span class=HB>- </span>/framework</a>&rdquo; will cause the app to always use the version of the FlightPath framework included with the server.&nbsp; When Myna is upgraded, this folder is as well.</p><h4 class=CHeading>&rdquo;MyCustomProperty&rdquo;</h4><p class=CParagraph>All properties in the config will be applied to <a href="FlightPath-sjs.html#$FP" class=LClass id=link30 onMouseOver="ShowTip(event, 'tt7', 'link30')" onMouseOut="HideTip('tt7')">$FP</a> and are available there from any model, controller or view</p></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Behaviors"></a>Behaviors</h3><div class=CBody><p class=CParagraph>Behaviors are functions that are applied to the current object.</p><p class=CParagraph>Behaviors can be applied to either models or controllers to modify their functionality.&nbsp; If you want to add a set of functions multiple controllers or models behaviors are a good mechanism.</p><ul class=CBulletList><li>Built-in controller behaviors are stored in framework/behaviors/controllers/&lt;behavior name&gt;.sjs</li><li>Custom controller behaviors are stored in app/behaviors/controllers/&lt;behavior name&gt;.sjs</li><li>Built-in model behaviors are stored in framework/behaviors/models/&lt;behavior name&gt;.sjs</li><li>Custom model behaviors are stored in app/behaviors/models/&lt;behavior name&gt;.sjs</li></ul><p class=CParagraph>In the case of a name conflict, custom behaviors hide built-in behaviors</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">//in some_controller.sjs<br>function init(){<br>    // loads the built-in PDF andJSON filters<br>    // Each of these has an &quot;init&quot; function that adds the appropriate<br>    // before and after filters<br>    this.applyBehavior([<br>        &quot;FormatPdf&quot;,<br>        &quot;FormatJson&quot;<br>    ]);<br><br>    //loads a single behavior with options<br>    this.applyBehavior(&quot;MynaAuth&quot;,{<br>        whitelist:[<br>            &quot;Main.index&quot;,<br>            &quot;Main.logout&quot;<br>        ],<br>        redirectParams:{<br>            message: &quot;Enter your AD domain credentials&quot;,<br>            providers:[&quot;ldap_ad&quot;]<br>        }<br>    });<br>}</pre></blockquote></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Elements"></a>Elements</h3><div class=CBody><p class=CParagraph>An element file is a specialized view (see: <a href="#Views" class=LGeneric id=link31 onMouseOver="ShowTip(event, 'tt1', 'link31')" onMouseOut="HideTip('tt1')">Views</a>) that is intended to contain a fragment of output (usually HTML) that can be used in a view</p><h4 class=CHeading>Element Locations</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>General Elements</td><td class=CDLDescription>app/views/elements/&lt;element name&gt;.ejs</td></tr></table><p class=CParagraph>General elements are stored in app/views/elements/&lt;element name&gt;.ejs.&nbsp; The global default element is stioreController default elements are store Elements are applied by calling &lt;Controller.addElement&gt; or &lt;Controller.setElement&gt;</p><p class=CParagraph>Elements can wrap other elements.&nbsp; For example the global default element wraps the controller Elements are layered like so:</p><blockquote><pre class="CCode sh_myna">/app/views/elements/default.ejs wraps<br>    /app/views/elements/controllername/default.ejs wraps<br>        /app/views/controllername/actionname.ejs</pre></blockquote><h4 class=CHeading>Calling this function adds additional elements that wrap the view, like so</h4><blockquote><pre class="CCode sh_myna">    function init(){<br>        this.addElement(&quot;myelement1&quot;)<br>        this.addElement(&quot;otherController/myelement2.ejs&quot;)<br>    }<br><br>//results in<br>/app/views/elements/default.ejs wraps<br>    /app/views/elements/controllername/default.ejs wraps<br>        /app/views/elements/myelement1.ejs wraps<br>            /app/views/elements/otherController/myelement2.ejs wraps<br>                /app/views/controllername/actionname.ejs</pre></blockquote></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Layouts"></a>Layouts</h3><div class=CBody><p class=CParagraph>A layout file is a specialized view (see: <a href="#Views" class=LGeneric id=link32 onMouseOver="ShowTip(event, 'tt1', 'link32')" onMouseOut="HideTip('tt1')">Views</a>) that is intended to wrap content before sending it to the browser.</p><h4 class=CHeading>Layout Locations</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Global Default</td><td class=CDLDescription>app/views/layouts/default.ejs</td></tr><tr><td class=CDLEntry>Controller Default</td><td class=CDLDescription>app/views/layouts/&lt;controller name&gt;/default.ejs</td></tr><tr><td class=CDLEntry>General Layouts</td><td class=CDLDescription>app/views/layouts/&lt;layout name&gt;.ejs</td></tr></table><p class=CParagraph>General layouts are stored in app/views/layouts/&lt;layout name&gt;.ejs.&nbsp; The global default layout is stioreController default layouts are store Layouts are applied by calling <a href="Controller-sjs.html#Controller.addLayout" class=LFunction id=link33 onMouseOver="ShowTip(event, 'tt19', 'link33')" onMouseOut="HideTip('tt19')">Controller.addLayout</a> or <a href="Controller-sjs.html#Controller.setLayout" class=LFunction id=link34 onMouseOver="ShowTip(event, 'tt20', 'link34')" onMouseOut="HideTip('tt20')">Controller.setLayout</a></p><p class=CParagraph>Layouts can wrap other layouts.&nbsp; For example the global default layout wraps the controller Layouts are layered like so:</p><blockquote><pre class="CCode sh_myna">/app/views/layouts/default.ejs wraps<br>    /app/views/layouts/controllername/default.ejs wraps<br>        /app/views/controllername/actionname.ejs</pre></blockquote><h4 class=CHeading>Calling this function adds additional layouts that wrap the view, like so</h4><blockquote><pre class="CCode sh_myna">    function init(){<br>        this.addLayout(&quot;mylayout1&quot;)<br>        this.addLayout(&quot;otherController/mylayout2.ejs&quot;)<br>    }<br><br>//results in<br>/app/views/layouts/default.ejs wraps<br>    /app/views/layouts/controllername/default.ejs wraps<br>        /app/views/layouts/mylayout1.ejs wraps<br>            /app/views/layouts/otherController/mylayout2.ejs wraps<br>                /app/views/controllername/actionname.ejs</pre></blockquote></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Modules"></a>Modules</h3><div class=CBody><p class=CParagraph>Modules are self-contained FlightPath applications that can be embedded in other applications.&nbsp; These controllers, models and views can be accessed as if they were in the main application.</p></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Routes"></a>Routes</h3><div class=CBody><p class=CParagraph>Routes are URL patterns that can be mapped to controllers and actions.&nbsp; Routes are defined in the config section of the application.sjs for your app (See: <a href="#FlightPath_Config" class=LGeneric id=link35 onMouseOver="ShowTip(event, 'tt16', 'link35')" onMouseOut="HideTip('tt16')">FlightPath Config</a>).</p><h4 class=CHeading>Route Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>name of the route.&nbsp; This is used by <a href="helpers/Html-sjs.html#$FP.helpers.Html.url" class=LFunction id=link36 onMouseOver="ShowTip(event, 'tt21', 'link36')" onMouseOut="HideTip('tt21')">$FP.helpers.Html.url</a> and <a href="helpers/Html-sjs.html#$FP.helpers.Html.link" class=LFunction id=link37 onMouseOver="ShowTip(event, 'tt22', 'link37')" onMouseOut="HideTip('tt22')">$FP.helpers.Html.link</a> to create URL&rsquo;s that match a particular route.</td></tr><tr><td class=CDLEntry>pattern</td><td class=CDLDescription>String.&nbsp; Pattern to match. see <b>Pattern Definitions</b> below</td></tr></table><h4 class=CHeading>Pattern Definitions</h4><p class=CParagraph>Patterns are a series of tokens separated bt slashes(/). tokens can be:</p><ul class=CBulletList><li>string literals,  ex: &ldquo;page&rdquo;,</li><li>variable placeholders, ex: &ldquo;$page&rdquo;</li><li>globbing variable placeholders (must be last token), ex: &ldquo;$page*&rdquo;</li><li>Regular Expressions, ex: &ldquo;rpt\d{3}\.doc&rdquo;</li></ul></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Views"></a>Views</h3><div class=CBody><p class=CParagraph>View Templates are .ejs templates used to render the result of an action.&nbsp; They are stored in app/views.&nbsp; Normally views are loaded automatically for a given controller and action by looking in app/views/&lt;controller name&gt;/&lt;action_name&gt;.ejs.&nbsp; Views can also be directly rendered via <a href="Controller-sjs.html#Controller.render" class=LFunction id=link38 onMouseOver="ShowTip(event, 'tt23', 'link38')" onMouseOut="HideTip('tt23')">Controller.render</a></p><p class=CParagraph>There are also two specialized kinds of view files: <a href="#Layouts" class=LGeneric id=link39 onMouseOver="ShowTip(event, 'tt13', 'link39')" onMouseOut="HideTip('tt13')">Layouts</a> and <a href="#Elements" class=LGeneric id=link40 onMouseOver="ShowTip(event, 'tt14', 'link40')" onMouseOut="HideTip('tt14')">Elements</a>.&nbsp; Generally <a href="#Layouts" class=LGeneric id=link41 onMouseOver="ShowTip(event, 'tt13', 'link41')" onMouseOut="HideTip('tt13')">Layouts</a> wrap view templates, and view templates include <a href="#Elements" class=LGeneric id=link42 onMouseOver="ShowTip(event, 'tt14', 'link42')" onMouseOut="HideTip('tt14')">Elements</a></p><p class=CParagraph>Views <a href="#Layouts" class=LGeneric id=link43 onMouseOver="ShowTip(event, 'tt13', 'link43')" onMouseOut="HideTip('tt13')">Layouts</a> and <a href="#Elements" class=LGeneric id=link44 onMouseOver="ShowTip(event, 'tt14', 'link44')" onMouseOut="HideTip('tt14')">Elements</a> have access to several global properties</p><h4 class=CHeading>View Properties</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$controller</td><td class=CDLDescription>A reference to the controller that called this view</td></tr><tr><td class=CDLEntry>$model</td><td class=CDLDescription>A reference to this controllers default model, may be null</td></tr><tr><td class=CDLEntry>$params</td><td class=CDLDescription>A reference to the params of the most recent action</td></tr><tr><td class=CDLEntry>$page</td><td class=CDLDescription>A reference to this controller&rsquo;s <a href="Controller-sjs.html#Controller.$page" class=LProperty id=link45 onMouseOver="ShowTip(event, 'tt24', 'link45')" onMouseOut="HideTip('tt24')">Controller.$page</a> property</td></tr><tr><td class=CDLEntry>getElement</td><td class=CDLDescription>A reference to &lt;getElement&gt;</td></tr><tr><td class=CDLEntry>[data properties]</td><td class=CDLDescription>All of the calling controller&rsquo;s <a href="Controller-sjs.html#Controller.data" class=LProperty id=link46 onMouseOver="ShowTip(event, 'tt25', 'link46')" onMouseOut="HideTip('tt25')">Controller.data</a> properties are available as global variables</td></tr><tr><td class=CDLEntry>[$FP.helpers classes]</td><td class=CDLDescription>&rdquo;Html&rdquo; refers to $FP.helpers.Html, etc</td></tr></table><p class=CParagraph>.</p></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->






<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CGeneric>View Templates are .ejs templates used to render the result of an action. </div></div><div class=CToolTip id="tt2"><div class=CClass>Data Modeling base class</div></div><div class=CToolTip id="tt3"><div class=CClass>Framework controller class for working with Ext.Direct</div></div><div class=CToolTip id="tt4"><div class=CClass>Applies action.controller based authentication and rights checking to controllers.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function redirectTo(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>redirects the browser to another controller/action, cancels further processing.</div></div><div class=CToolTip id="tt6"><div class=CClass>A session-scoped object for passing messages to views.</div></div><div class=CToolTip id="tt7"><div class=CClass>Core framework instance for Myna FlightPath</div></div><div class=CToolTip id="tt8"><div class=CGeneric>Behaviors are functions that are applied to the current object.</div></div><div class=CToolTip id="tt9"><div class=CClass>base Controller class for FlightPath</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Controller.prototype.addFilter = function addFilter(</td><td class=PParameter nowrap>filter,</td></tr><tr><td></td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Adds an action filter</div></div><div class=CToolTip id="tt11"><div class=CClass>A model&rsquo;s bean class</div></div><div class=CToolTip id="tt12"><div class=CGeneric>Routes are URL patterns that can be mapped to controllers and actions. </div></div><div class=CToolTip id="tt13"><div class=CGeneric>A layout file is a specialized view (see: Views) that is intended to wrap content before sending it to the browser.</div></div><div class=CToolTip id="tt14"><div class=CGeneric>An element file is a specialized view (see: Views) that is intended to contain a fragment of output (usually HTML) that can be used in a view</div></div><div class=CToolTip id="tt15"><div class=CClass>Global object for defining and managing a Myna application. </div></div><div class=CToolTip id="tt16"><div class=CGeneric>FlightPath configuration is stored in the &ldquo;config&rdquo; property of $application.</div></div><div class=CToolTip id="tt17"><div class=CGeneric>Modules are self-contained FlightPath applications that can be embedded in other applications. </div></div><div class=CToolTip id="tt18"><div class=CGeneric>A MynaPath is a file URI String with certain automatic translations.</div></div><div class=CToolTip id="tt19"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Controller.prototype.addLayout = function addLayout(</td><td class=PParameter nowrap>layout</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>adds a layout layer to this this request</div></div><div class=CToolTip id="tt20"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Controller.prototype.setLayout = function setLayout(</td><td class=PParameter nowrap>layout</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Sets a single layout layer to this this request, clearing any existing layouts</div></div><div class=CToolTip id="tt21"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function url(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Returns a URL for a specified controller and action</div></div><div class=CToolTip id="tt22"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function link(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Returns an HTML link for a specified controller and action</div></div><div class=CToolTip id="tt23"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Controller.prototype.render = function render(</td><td class=PParameter nowrap>options</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>renders a view</div></div><div class=CToolTip id="tt24"><div class=CProperty>$page metadata object</div></div><div class=CToolTip id="tt25"><div class=CProperty>local request-specific data to be passed to views</div></div><!--END_ND_TOOLTIPS-->




<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>