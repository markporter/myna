<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>Controller: Direct - Myna Application Server</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script><script type="text/javascript" src="../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../js/shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../../js/shjs/css/sh_mild_white.css"></head><body id=ContentPage onLoad="NDOnLoad();sh_highlightDocument();"><script language=JavaScript><!--
if (browserType) {document.write("<div id=" + browserType + ">");if (browserVer) {document.write("<div id=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 02-10-2007 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass CTopic" id=MainTopic><h1 class=CTitle><a name="Controller:Direct"></a>Controller: Direct</h1><div class=CBody><p class=CParagraph>Framework controller class for working with Ext.Direct</p><p class=CParagraph>Stored in framework/controller/direct_controller.sjs</p><h4 class=CHeading>See</h4><ul class=CBulletList><li><a href="#Controller:Direct.Overview" class=LGeneric id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Overview</a></li><li><a href="http://www.sencha.com/products/extjs/extdirect" class=LURL>http://www.sencha.com/products/extjs/extdirect</a></li></ul><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Controller:Direct" >Controller: Direct</a></td><td class=SDescription>Framework controller class for working with Ext.Direct</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Controller:Direct.Overview" >Overview</a></td><td class=SDescription>Normally this is all that is needed to enable Ext and Ext.Direct support in a FlightPath application:</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="Controller:Direct.Overview"></a>Overview</h3><div class=CBody><p class=CParagraph>Normally this is all that is needed to enable Ext and Ext.Direct support in a FlightPath application:</p><blockquote><pre class="CCode sh_myna">// in app/controllers/&lt;controller_name&gt;_controller.sjs<br>// assumes Ext 3.x or 4.x is installed to static/extjs<br>function index(){<br>    this.$page.css =this.$page.css.concat([<br>        &quot;extjs/resources/css/ext-all.css&quot;,<br>        &quot;default.css&quot;<br>    ])<br>    this.$page.scripts =this.$page.scripts.concat([<br>        &quot;extjs/ext-all.js&quot;,<br>        $FP.helpers.Html.url({<br>            controller:&quot;Direct&quot;,<br>            action:&quot;api&quot;,<br>            params:{<br>                callback:&quot;Ext.Direct.addProvider&quot;,<br>                namespace:&quot;$FP&quot;<br>            }<br>        })<br>    ])<br>}</pre></blockquote><p class=CParagraph>This will create a global variable &ldquo;$FP&rdquo; in the browser that contains a property for each controller name, which in turn will have a function for each action on that controller.&nbsp; The signature for these functions is function(params,callback){} where &ldquo;params&rdquo; is an object that should be used as the params to the action, and &ldquo;callback&rdquo; is a function that will be called when the AJAX callback is complete, and will contain as its first parameter, the result of the action.</p><p class=CParagraph>Actions called in this way will execute their filters, but not produce any output.&nbsp; Instead, any output from the action&rsquo;s return will be used as the return to the direct function.</p><h4 class=CHeading>Examples</h4><blockquote><pre class="CCode sh_myna">// in app/controllers/post_controller.sjs<br>// assumes Ext 3.x or 4.x is installed to static/extjs<br>function index(){<br>    this.$page.css =this.$page.css.concat([<br>        &quot;extjs/resources/css/ext-all.css&quot;,<br>        &quot;default.css&quot;<br>    ])<br>    this.$page.scripts =this.$page.scripts.concat([<br>        &quot;extjs/ext-all.js&quot;,<br>        $FP.helpers.Html.url({<br>            controller:&quot;Direct&quot;,<br>            action:&quot;api&quot;,<br>            params:{<br>                callback:&quot;Ext.Direct.addProvider&quot;,<br>                namespace:&quot;$FP&quot;<br>            }<br>        })<br>    ])<br>}<br><br>function edit(params){<br>    // getData() dereferences associated beans, one level deep<br>    // getData(0) forces only this bean's data to be returned,<br>    // essentially the same as bean.data<br>    return this.model.get(params).getData();<br>}</pre></blockquote><blockquote><pre class="CCode sh_myna">// in app/views/post/post_index.ejs<br><br>&lt;script&gt;<br>    Ext.onReady(function(){<br><br>        //makes a callback to Post.list.<br><br>        $FP.Post.edit({},function(result){<br>            // this will be the data for a new Post<br>            // including &quot;id&quot; and  default values<br>            console.log(result)<br>        })<br>    })<br>&lt;/script&gt;</pre></blockquote></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->






<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CGeneric>Normally this is all that is needed to enable Ext and Ext.Direct support in a FlightPath application:</div></div><!--END_ND_TOOLTIPS-->




<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>