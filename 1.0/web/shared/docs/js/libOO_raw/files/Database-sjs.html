<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>Myna.Database - Myna Application Server</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script><script type="text/javascript" src="../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../js/shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../../js/shjs/css/sh_mild_white.css"></head><body id=ContentPage onLoad="NDOnLoad();sh_highlightDocument();"><script language=JavaScript><!--
if (browserType) {document.write("<div id=" + browserType + ">");if (browserVer) {document.write("<div id=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 02-10-2007 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass CTopic" id=MainTopic><h1 class=CTitle><a name="Myna.Database"></a>Myna.<span class=HB> </span>Database</h1><div class=CBody><p class=CParagraph>Provides database metadata and manages <a href="Table-sjs.html#Myna.Table" class=LClass id=link10 onMouseOver="ShowTip(event, 'tt1', 'link10')" onMouseOut="HideTip('tt1')">Myna.Table</a> objects</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Myna.Database" >Myna.<span class=HB> </span>Database</a></td><td class=SDescription>Provides database metadata and manages <a href="Table-sjs.html#Myna.Table" class=LClass id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Myna.Table</a> objects</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Myna.Database.Functions_and_Properties" >Functions and Properties</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database.Myna.Database" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">Myna.<span class=HB> </span>Database</a></td><td class=SDescription>Construct a database proxy object</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#Myna.Database.con" >con</a></td><td class=SDescription>jdbc connection object. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database.init" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">init</a></td><td class=SDescription>(re)loads database metadata</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#Myna.Database.ds" >ds</a></td><td class=SDescription>Datasource associated with this Database object</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database.md" >md</a></td><td class=SDescription>database matadata object. </td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#Myna.Database.dbType" >dbType</a></td><td class=SDescription>Lowercase type of database. </td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database.schemas" >schemas</a></td><td class=SDescription>array of schema names available in this datasource</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#Myna.Database.defaultSchema" >defaultSchema</a></td><td class=SDescription>The default schema for this datasource</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database.tables" >tables</a></td><td class=SDescription>array of table information for the current schema.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Database.getTable" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">getTable</a></td><td class=SDescription>returns a <a href="Table-sjs.html#Myna.Table" class=LClass id=link5 onMouseOver="ShowTip(event, 'tt1', 'link5')" onMouseOut="HideTip('tt1')">Myna.Table</a> object representing the named table.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database.dbTypeToJs" id=link6 onMouseOver="ShowTip(event, 'tt5', 'link6')" onMouseOut="HideTip('tt5')">dbTypeToJs</a></td><td class=SDescription>Static function that takes a column type name (&ldquo;VARCHAR&rdquo;) or a column type id (-5) and returns string that represents the equivalent Myna type (string, numeric, date, binary, unsupported)</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Database.getTablesBySchema" id=link7 onMouseOver="ShowTip(event, 'tt6', 'link7')" onMouseOut="HideTip('tt6')">getTablesBySchema</a></td><td class=SDescription>returns table information for a specific schema</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database._cacheKey" >_cacheKey</a></td><td class=SDescription>(private) cache key base for internal metadata caching</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Database._getCache" id=link8 onMouseOver="ShowTip(event, 'tt7', 'link8')" onMouseOut="HideTip('tt7')">_getCache</a></td><td class=SDescription>(private) internal function for caching metadata</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Database.clearMetadataCache" id=link9 onMouseOver="ShowTip(event, 'tt8', 'link9')" onMouseOut="HideTip('tt8')">clearMetadataCache</a></td><td class=SDescription>clears metadata cache for this table</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="Myna.Database.Functions_and_Properties"></a>Functions and Properties</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Database.Myna.Database"></a>Myna.<span class=HB> </span>Database</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database = function (</td><td class=PParameter nowrap>ds</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Construct a database proxy object</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ds</td><td class=CDLDescription>String datsource name</td></tr></table></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database.con"></a>con</h3><div class=CBody><p class=CParagraph>jdbc connection object.&nbsp; Created in <a href="#Myna.Database.init" class=LFunction id=link11 onMouseOver="ShowTip(event, 'tt3', 'link11')" onMouseOut="HideTip('tt3')">init</a>, closed on requestEnd See <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/sql/Connection.html" class=LURL>http://java.sun.com<span class=HB>- </span>/j2se<span class=HB>- </span>/1.4.2<span class=HB>- </span>/docs<span class=HB>- </span>/api<span class=HB>- </span>/java<span class=HB>- </span>/sql<span class=HB>- </span>/Connection.html</a></p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Database.init"></a>init</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Database.prototype.init = function()</td></tr></table></blockquote><p class=CParagraph>(re)loads database metadata</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database.ds"></a>ds</h3><div class=CBody><p class=CParagraph>Datasource associated with this Database object</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database.md"></a>md</h3><div class=CBody><p class=CParagraph>database matadata object.&nbsp; Created in <a href="#Myna.Database.init" class=LFunction id=link12 onMouseOver="ShowTip(event, 'tt3', 'link12')" onMouseOut="HideTip('tt3')">init</a>, closed on requestEnd.&nbsp; See <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/sql/DatabaseMetaData.html" class=LURL>http://java.sun.com<span class=HB>- </span>/j2se<span class=HB>- </span>/1.4.2<span class=HB>- </span>/docs<span class=HB>- </span>/api<span class=HB>- </span>/java<span class=HB>- </span>/sql<span class=HB>- </span>/DatabaseMetaData.html</a></p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database.dbType"></a>dbType</h3><div class=CBody><p class=CParagraph>Lowercase type of database.&nbsp; This should normaly be the name of the database vendor.</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database.schemas"></a>schemas</h3><div class=CBody><p class=CParagraph>array of schema names available in this datasource</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database.defaultSchema"></a>defaultSchema</h3><div class=CBody><p class=CParagraph>The default schema for this datasource</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database.tables"></a>tables</h3><div class=CBody><p class=CParagraph>array of table information for the current schema.</p><h4 class=CHeading>Each element contains these properties</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>table_cat</td><td class=CDLDescription>table catalog/db name (may be null)</td></tr><tr><td class=CDLEntry>table_schem</td><td class=CDLDescription>table schema/username (may be null)</td></tr><tr><td class=CDLEntry>table_name</td><td class=CDLDescription>table name</td></tr><tr><td class=CDLEntry>table_type</td><td class=CDLDescription>table type.&nbsp; Typical types are &ldquo;TABLE&rdquo;, &ldquo;VIEW&rdquo;, &ldquo;SYSTEM TABLE&rdquo;, &ldquo;GLOBAL TEMPORARY&rdquo;, &ldquo;LOCAL TEMPORARY&rdquo;, &ldquo;ALIAS&rdquo;, &ldquo;SYNONYM&rdquo;.</td></tr><tr><td class=CDLEntry>remarks</td><td class=CDLDescription>explanatory comment on the table</td></tr><tr><td class=CDLEntry>type_cat</td><td class=CDLDescription>the types catalog (may be null)</td></tr><tr><td class=CDLEntry>type_schem</td><td class=CDLDescription>the types schema (may be null)</td></tr><tr><td class=CDLEntry>type_name</td><td class=CDLDescription>type name (may be null)</td></tr><tr><td class=CDLEntry>self_referencing_col_name</td><td class=CDLDescription>name of the designated &ldquo;identifier&rdquo; column of a typed table (may be null)</td></tr><tr><td class=CDLEntry>ref_generation</td><td class=CDLDescription>specifies how values in SELF_REFERENCING_COL_NAME are created.&nbsp; Values are &ldquo;SYSTEM&rdquo;, &ldquo;USER&rdquo;, &ldquo;DERIVED&rdquo;.&nbsp; (may be null)</td></tr></table><p class=CParagraph>Some databases may not return information for all tables.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Database.getTable"></a>getTable</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.prototype.getTable = function(</td><td class=PParameter nowrap>tableName</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns a <a href="Table-sjs.html#Myna.Table" class=LClass id=link13 onMouseOver="ShowTip(event, 'tt1', 'link13')" onMouseOut="HideTip('tt1')">Myna.Table</a> object representing the named table.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Database.dbTypeToJs"></a>dbTypeToJs</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.dbTypeToJs = function(</td><td class=PParameter nowrap>sourceType</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Static function that takes a column type name (&ldquo;VARCHAR&rdquo;) or a column type id (-5) and returns string that represents the equivalent Myna type (string, numeric, date, binary, unsupported)</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>sourceType</td><td class=CDLDescription>DB column type as a string (&ldquo;VARCHAR&rdquo;) or number (112)</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Database.getTablesBySchema"></a>getTablesBySchema</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.prototype.getTablesBySchema = function(</td><td class=PParameter nowrap>schema</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>returns table information for a specific schema</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>schema</td><td class=CDLDescription>schema name to return tables for</td></tr></table><h4 class=CHeading>Detail</h4><p class=CParagraph>returns an array of table information for all schemas in the database</p><h4 class=CHeading>Each element contains these properties</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>table_cat</td><td class=CDLDescription>table catalog/db name (may be null)</td></tr><tr><td class=CDLEntry>table_schem</td><td class=CDLDescription>table schema/username (may be null)</td></tr><tr><td class=CDLEntry>table_name</td><td class=CDLDescription>table name</td></tr><tr><td class=CDLEntry>table_type</td><td class=CDLDescription>table type.&nbsp; Typical types are &ldquo;TABLE&rdquo;, &ldquo;VIEW&rdquo;, &ldquo;SYSTEM TABLE&rdquo;, &ldquo;GLOBAL TEMPORARY&rdquo;, &ldquo;LOCAL TEMPORARY&rdquo;, &ldquo;ALIAS&rdquo;, &ldquo;SYNONYM&rdquo;.</td></tr><tr><td class=CDLEntry>remarks</td><td class=CDLDescription>explanatory comment on the table</td></tr><tr><td class=CDLEntry>type_cat</td><td class=CDLDescription>the types catalog (may be null)</td></tr><tr><td class=CDLEntry>type_schem</td><td class=CDLDescription>the types schema (may be null)</td></tr><tr><td class=CDLEntry>type_name</td><td class=CDLDescription>type name (may be null)</td></tr><tr><td class=CDLEntry>self_referencing_col_name</td><td class=CDLDescription>name of the designated &ldquo;identifier&rdquo; column of a typed table (may be null)</td></tr><tr><td class=CDLEntry>ref_generation</td><td class=CDLDescription>specifies how values in SELF_REFERENCING_COL_NAME are created.&nbsp; Values are &ldquo;SYSTEM&rdquo;, &ldquo;USER&rdquo;, &ldquo;DERIVED&rdquo;.&nbsp; (may be null)</td></tr></table><p class=CParagraph>Some databases may not return information for all tables.</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="Myna.Database._cacheKey"></a>_cacheKey</h3><div class=CBody><p class=CParagraph>(private) cache key base for internal metadata caching</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Database._getCache"></a>_getCache</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.prototype._getCache = function(</td><td class=PParameter nowrap>type,</td></tr><tr><td></td><td class=PParameter nowrap>f</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>(private) internal function for caching metadata</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Database.clearMetadataCache"></a>clearMetadataCache</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Database.prototype.clearMetadataCache = function()</td></tr></table></blockquote><p class=CParagraph>clears metadata cache for this table</p><h4 class=CHeading>Detail</h4><p class=CParagraph>to improve performance, table metadata is cached between new Myna.Table calls.&nbsp; After making changes to a table, a call to this function is necessary to refresh metadata.&nbsp; This function is called automatically by all the Myna.Table functions that modify the table, so calling this should only be necessary if the table is modified outside of Myna.table or another Myna instance</p></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->






<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CClass>Create modify and delete SQL tables</div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database = function (</td><td class=PParameter nowrap>ds</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Construct a database proxy object</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Database.prototype.init = function()</td></tr></table></blockquote>(re)loads database metadata</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.prototype.getTable = function(</td><td class=PParameter nowrap>tableName</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns a Myna.Table object representing the named table.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.dbTypeToJs = function(</td><td class=PParameter nowrap>sourceType</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Static function that takes a column type name (&ldquo;VARCHAR&rdquo;) or a column type id (-5) and returns string that represents the equivalent Myna type (string, numeric, date, binary, unsupported)</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.prototype.getTablesBySchema = function(</td><td class=PParameter nowrap>schema</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns table information for a specific schema</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.Database.prototype._getCache = function(</td><td class=PParameter nowrap>type,</td></tr><tr><td></td><td class=PParameter nowrap>f</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>(private) internal function for caching metadata</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.Database.prototype.clearMetadataCache = function()</td></tr></table></blockquote>clears metadata cache for this table</div></div><!--END_ND_TOOLTIPS-->




<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>