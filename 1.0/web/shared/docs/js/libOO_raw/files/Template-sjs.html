<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>Myna.Template - Myna Application Server</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script><script type="text/javascript" src="../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../js/shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../../js/shjs/css/sh_mild_white.css"></head><body id=ContentPage onLoad="NDOnLoad();sh_highlightDocument();"><script language=JavaScript><!--
if (browserType) {document.write("<div id=" + browserType + ">");if (browserVer) {document.write("<div id=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 02-10-2007 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass CTopic" id=MainTopic><h1 class=CTitle><a name="Myna.Template"></a>Myna.<span class=HB> </span>Template</h1><div class=CBody><p class=CParagraph>Create a text template with placeholders that can be merged with data at runtime</p><p class=CParagraph>Adapted from the Ext library (<a href="http://extjs.com" class=LURL>http://extjs.com</a>)</p><p class=CParagraph>See <a href="#Myna.XTemplate" class=LClass id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">Myna.XTemplate</a> for more flexible template processing</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Myna.Template" >Myna.<span class=HB> </span>Template</a></td><td class=SDescription>Create a text template with placeholders that can be merged with data at runtime</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Myna.Template.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.Template.Template" >Template</a></td><td class=SDescription>Creates a new template from the supplied string or array of strings</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.Template.apply" >apply</a></td><td class=SDescription>Merges this template with the supplied data.</td></tr><tr class="SClass"><td class=SEntry><a href="#Myna.XTemplate" >Myna.<span class=HB> </span>XTemplate</a></td><td class=SDescription>An extention of <a href="#Myna.Template" class=LClass id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Myna.Template</a> that supports looping and conditional operations</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Myna.XTemplate.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Myna.XTemplate.XTemplate" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">XTemplate</a></td><td class=SDescription>Creates a new template from the supplied string or array of strings</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Myna.XTemplate.Apply" >Apply</a></td><td class=SDescription>Merges this template with the supplied data.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="Myna.Template.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Template.Template"></a>Template</h3><div class=CBody><p class=CParagraph>Creates a new template from the supplied string or array of strings</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>text*</td><td class=CDLDescription>a string or array of strings, or several string arguments that represent the template.&nbsp; See the examples below</td></tr></table><h4 class=CHeading>Examples</h4><blockquote><pre class="CCode sh_myna">//single string<br>var t = new Myna.Template(&quot;My name is {name}&quot;);<br><br>//array of strings<br>var t = new Myna.Template([<br>    &quot;My&quot;,<br>    &quot; name&quot;,<br>    &quot; is &quot;,<br>    &quot;{name}&quot;<br>]);<br><br>//several string parameters<br>var t = new Myna.Template(<br>    &quot;My&quot;,<br>    &quot; name&quot;,<br>    &quot; is &quot;,<br>    &quot;{name}&quot;<br>);</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.Template.apply"></a>apply</h3><div class=CBody><p class=CParagraph>Merges this template with the supplied data.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>values</td><td class=CDLDescription>{Object/Array} values The template values.&nbsp; Can be an array if your params are numeric (i.e.&nbsp; {0}) or an object (i.e.&nbsp; {foo: &lsquo;bar&rsquo;})</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>Merged string</p><h4 class=CHeading>Examples</h4><blockquote><pre class="CCode sh_myna">//single string<br>var t = new Myna.Template(&quot;My name is {0}&quot;).apply([&quot;Bob&quot;]);<br><br>var t = new Myna.Template(&quot;My name is {name}&quot;).apply({name:&quot;bob&quot;});</pre></blockquote></div></div>

<div class="CClass CTopic"><h2 class=CTitle><a name="Myna.XTemplate"></a>Myna.<span class=HB> </span>XTemplate</h2><div class=CBody><p class=CParagraph>An extention of <a href="#Myna.Template" class=LClass id=link5 onMouseOver="ShowTip(event, 'tt1', 'link5')" onMouseOut="HideTip('tt1')">Myna.Template</a> that supports looping and conditional operations</p><p class=CParagraph>XTemplate supports many special tags and built-in operators that aren&rsquo;t defined as part of the API, but are  supported in the templates that can be created.&nbsp;  The following examples demonstrate all of the supported features.</p><p class=CParagraph>This is the data object used for reference in each code example</p><blockquote><pre class="CCode sh_myna">var data = {<br>    name: 'Jack Slocum',<br>    title: 'Lead Developer',<br>    company: 'Ext JS, LLC',<br>    email: 'jack@extjs.com',<br>    address: '4 Red Bulls Drive',<br>    city: 'Cleveland',<br>    state: 'Ohio',<br>    zip: '44102',<br>    drinks: ['Red Bull', 'Coffee', 'Water'],<br>    kids: [{<br>        name: 'Sara Grace',<br>        age:3<br>    },{<br>        name: 'Zachary',<br>        age:2<br>    },{<br>        name: 'John James',<br>        age:0<br>    }]<br>};</pre></blockquote><h4 class=CHeading>Auto filling of arrays and scope switching</h4><p class=CParagraph>Using the <u>tpl</u> tag and the <u>for</u> operator, you can switch to the scope of the object specified by <u>for</u> and access its members to populate the template.&nbsp; If the variable in <u>for</u> is an array, it will auto-fill, repeating the template block inside the <u>tpl</u> tag for each item in the array</p><blockquote><pre class="CCode sh_myna">var tpl = new Ext.XTemplate(<br>    '&lt;p&gt;Name: {name}&lt;/p&gt;',<br>    '&lt;p&gt;Title: {title}&lt;/p&gt;',<br>    '&lt;p&gt;Company: {company}&lt;/p&gt;',<br>    '&lt;p&gt;Kids: ',<br>    '&lt;tpl for=&quot;kids&quot;&gt;',<br>        '&lt;p&gt;{name}&lt;/p&gt;',<br>    '&lt;/tpl&gt;&lt;/p&gt;'<br>);<br>$res.print(tpl.apply(data));</pre></blockquote><h4 class=CHeading>Access to parent object from within sub-template scope</h4><p class=CParagraph>When processing a sub-template, for example while looping through a child array, you can access the parent object&rsquo;s members via the <u>parent</u> object</p><blockquote><pre class="CCode sh_myna">var tpl = new Ext.XTemplate(<br>    '&lt;p&gt;Name: {name}&lt;/p&gt;',<br>    '&lt;p&gt;Kids: ',<br>    '&lt;tpl for=&quot;kids&quot;&gt;',<br>        '&lt;tpl if=&quot;age &amp;gt; 1&quot;&gt;',<br>            '&lt;p&gt;{name}&lt;/p&gt;',<br>            '&lt;p&gt;Dad: {parent.name}&lt;/p&gt;',<br>        '&lt;/tpl&gt;',<br>    '&lt;/tpl&gt;&lt;/p&gt;'<br>);<br>$res.print(tpl.apply(data));</pre></blockquote><h4 class=CHeading>Array item index and basic math support</h4><p class=CParagraph>While processing an array, the special variable <u>{#}</u>  will provide the current array index + 1 (starts at 1, not 0).&nbsp; Templates also support the basic math operators + -  and / that can be applied directly on numeric data values:</p><blockquote><pre class="CCode sh_myna">var tpl = new Ext.XTemplate(<br>    '&lt;p&gt;Name: {name}&lt;/p&gt;',<br>    '&lt;p&gt;Kids: ',<br>    '&lt;tpl for=&quot;kids&quot;&gt;',<br>        '&lt;tpl if=&quot;age &amp;gt; 1&quot;&gt;',<br>            '&lt;p&gt;{#}: {name}&lt;/p&gt;',  // &lt;-- Auto-number each item<br>            '&lt;p&gt;In 5 Years: {age+5}&lt;/p&gt;',  // &lt;-- Basic math<br>            '&lt;p&gt;Dad: {parent.name}&lt;/p&gt;',<br>        '&lt;/tpl&gt;',<br>    '&lt;/tpl&gt;&lt;/p&gt;'<br>);<br>$res.print(tpl.apply(data));</pre></blockquote><h4 class=CHeading>Auto-rendering of flat arrays</h4><p class=CParagraph>Flat arrays that contain values (and not objects) can be auto-rendered using the special <u>{.}</u> variable inside a loop.&nbsp;  This variable will represent the value of the array at the current index:</p><blockquote><pre class="CCode sh_myna">var tpl = new Ext.XTemplate(<br>    '&lt;p&gt;{name}\'s favorite beverages:&lt;/p&gt;',<br>    '&lt;tpl for=&quot;drinks&quot;&gt;',<br>       '&lt;div&gt; - {.}&lt;/div&gt;',<br>    '&lt;/tpl&gt;'<br>);<br>$res.print(tpl.apply(data));</pre></blockquote><h4 class=CHeading>Basic conditional logic</h4><p class=CParagraph>Using the <u>tpl</u> tag and the <u>if</u> operator you can provide conditional checks for deciding whether or not to render specific parts of the template.&nbsp; Note that there is no <u>else</u> operator -- if needed, you should use two opposite <u>if</u> statements.&nbsp; Properly-encoded attributes are required as seen in the following example:</p><blockquote><pre class="CCode sh_myna">var tpl = new Ext.XTemplate(<br>    '&lt;p&gt;Name: {name}&lt;/p&gt;',<br>    '&lt;p&gt;Kids: ',<br>    '&lt;tpl for=&quot;kids&quot;&gt;',<br>        '&lt;tpl if=&quot;age &amp;amp;gt; 1&quot;&gt;',  // &lt;-- Note that the &gt; is encoded<br>            '&lt;p&gt;{name}&lt;/p&gt;',<br>        '&lt;/tpl&gt;',<br>    '&lt;/tpl&gt;&lt;/p&gt;'<br>);<br>$res.print(tpl.apply(data));</pre></blockquote><h4 class=CHeading>Ability to execute arbitrary inline code</h4><p class=CParagraph>In an XTemplate, anything between {[ ...&nbsp; ]}  is considered code to be executed in the scope of the template.&nbsp; There are some special variables available in that code:</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>values</td><td class=CDLDescription>The values in the current scope.&nbsp; If you are using scope changing sub-templates, youcan change what <u>values</u> is.</td></tr><tr><td class=CDLEntry>parent</td><td class=CDLDescription>The scope (values) of the ancestor template.</td></tr><tr><td class=CDLEntry>xindex</td><td class=CDLDescription>If you are in a looping template, the index of the loop you are in (1-based).</td></tr><tr><td class=CDLEntry>xcount</td><td class=CDLDescription>If you are in a looping template, the total length of the array you are looping.</td></tr></table><p class=CParagraph>This example demonstrates basic row striping using an inline code block and the <u>xindex</u> variable:&lt;/p&gt;</p><blockquote><pre class="CCode sh_myna">var tpl = new Ext.XTemplate(<br>    '&lt;p&gt;Name: {name}&lt;/p&gt;',<br>    '&lt;p&gt;Company: {[company.toUpperCase() + ', ' + title]}&lt;/p&gt;',<br>    '&lt;p&gt;Kids: ',<br>    '&lt;tpl for=&quot;kids&quot;&gt;',<br>       '&lt;div class=&quot;{[xindex % 2 === 0 ? &quot;even&quot; : &quot;odd&quot;]}&quot;&gt;,<br>        '{name}',<br>        '&lt;/div&gt;',<br>    '&lt;/tpl&gt;&lt;/p&gt;'<br>);<br>$res.print(tpl.apply(data));</pre></blockquote><h4 class=CHeading>Template member functions</h4><p class=CParagraph>One or more member functions can be defined directly on the config object passed into the XTemplate constructor for more complex processing:</p><blockquote><pre class="CCode sh_myna">var tpl = new Ext.XTemplate(<br>    '&lt;p&gt;Name: {name}&lt;/p&gt;',<br>    '&lt;p&gt;Kids: ',<br>    '&lt;tpl for=&quot;kids&quot;&gt;',<br>        '&lt;tpl if=&quot;this.isGirl(name)&quot;&gt;',<br>            '&lt;p&gt;Girl: {name} - {age}&lt;/p&gt;',<br>        '&lt;/tpl&gt;',<br>        '&lt;tpl if=&quot;this.isGirl(name) == false&quot;&gt;',<br>            '&lt;p&gt;Boy: {name} - {age}&lt;/p&gt;',<br>        '&lt;/tpl&gt;',<br>        '&lt;tpl if=&quot;this.isBaby(age)&quot;&gt;',<br>            '&lt;p&gt;{name} is a baby!&lt;/p&gt;',<br>        '&lt;/tpl&gt;',<br>    '&lt;/tpl&gt;&lt;/p&gt;', {<br>     isGirl: function(name){<br>         return name == 'Sara Grace';<br>     },<br>     isBaby: function(age){<br>        return age &lt; 1;<br>     }<br>});<br>$res.print(tpl.apply(data));</pre></blockquote><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Myna.XTemplate.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Myna.XTemplate.XTemplate" id=link4 onMouseOver="ShowTip(event, 'tt2', 'link4')" onMouseOut="HideTip('tt2')">XTemplate</a></td><td class=SDescription>Creates a new template from the supplied string or array of strings</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Myna.XTemplate.Apply" >Apply</a></td><td class=SDescription>Merges this template with the supplied data.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="Myna.XTemplate.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.XTemplate.XTemplate"></a>XTemplate</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.XTemplate = function()</td></tr></table></blockquote><p class=CParagraph>Creates a new template from the supplied string or array of strings</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>text*</td><td class=CDLDescription>a string or array of strings, or several string arguments that represent the template.&nbsp; See the examples below</td></tr></table><h4 class=CHeading>Examples</h4><blockquote><pre class="CCode sh_myna">//single string<br>var t = new Myna.XTemplate(&quot;My name is {name}&quot;);<br><br>//array of strings<br>var t = new Myna.XTemplate([<br>    &quot;My&quot;,<br>    &quot; name&quot;,<br>    &quot; is &quot;,<br>    &quot;{name}&quot;<br>]);<br><br>//several string parameters<br>var t = new Myna.XTemplate(<br>    &quot;My&quot;,<br>    &quot; name&quot;,<br>    &quot; is &quot;,<br>    &quot;{name}&quot;<br>);</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="Myna.XTemplate.Apply"></a>Apply</h3><div class=CBody><p class=CParagraph>Merges this template with the supplied data.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>values</td><td class=CDLDescription>{Object/Array} values The template values.&nbsp; Can be an array if your params are numeric (i.e.&nbsp; {0}) or an object (i.e.&nbsp; {foo: &lsquo;bar&rsquo;})</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>Merged string</p></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->






<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CClass>Create a text template with placeholders that can be merged with data at runtime</div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>Myna.XTemplate = function()</td></tr></table></blockquote>Creates a new template from the supplied string or array of strings</div></div><div class=CToolTip id="tt3"><div class=CClass>An extention of Myna.Template that supports looping and conditional operations</div></div><!--END_ND_TOOLTIPS-->




<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>