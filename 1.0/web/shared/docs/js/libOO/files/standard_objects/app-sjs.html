<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>$application - Myna Application Server</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script><script type="text/javascript" src="../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../js/shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../../js/shjs/css/sh_mild_white.css"></head><body id=ContentPage onLoad="NDOnLoad();sh_highlightDocument();"><script language=JavaScript><!--
if (browserType) {document.write("<div id=" + browserType + ">");if (browserVer) {document.write("<div id=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 02-10-2007 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass CTopic" id=MainTopic><h1 class=CTitle><a name="$application"></a>$application</h1><div class=CBody><p class=CParagraph>Global object for defining and managing a Myna application.&nbsp; See <a href="#$application.Application_Overview" class=LGeneric id=link19 onMouseOver="ShowTip(event, 'tt15', 'link19')" onMouseOut="HideTip('tt15')">Application Overview</a></p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#$application" >$application</a></td><td class=SDescription>Global object for defining and managing a Myna application. </td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#$application.Application_Overview" >Application Overview</a></td><td class=SDescription>General Description of application configuration</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#$application.Application_Template" >Application Template</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#$application.Properties" >Properties</a></td><td class=SDescription></td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#$application.appname" >appname</a></td><td class=SDescription>String application name.</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#$application.displayName" >displayName</a></td><td class=SDescription>String application name for displaying to humans <b>Default appname</b>.</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#$application.description" >description</a></td><td class=SDescription>Short description of this application</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#$application.author" >author</a></td><td class=SDescription>Name of  the author of this application</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#$application.authorEmail" >authorEmail</a></td><td class=SDescription>email of the author of this application</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#$application.website" >website</a></td><td class=SDescription>Website associated with this application</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#$application.version" >version</a></td><td class=SDescription>Application version</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#$application.minMynaVersion" >minMynaVersion</a></td><td class=SDescription>Minimum version of Myna this application is likely to work with</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#$application.postInstallUrl" >postInstallUrl</a></td><td class=SDescription>URL that should be visited first after deployment, relative to the application&rsquo;s install directory</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#$application.idleMinutes" >idleMinutes</a></td><td class=SDescription>Max time in minutes between application data access before app memory is recovered <b>Default 60</b>.</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#$application.rights" >rights</a></td><td class=SDescription>Array of <a href="../Permissions-sjs.html#Myna.Permissions.Right" class=LClass id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Myna.Permissions.Right</a> definitions</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#$application.directory" >directory</a></td><td class=SDescription>MynaPath of directory of closest application.sjs <b>CALCULATED</b></td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#$application.url" >url</a></td><td class=SDescription>URL path of closest application.sjs <b>CALCULATED</b></td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#$application.closeArray" >closeArray</a></td><td class=SDescription>Array of resources onwhich we should cal close() on request end.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#$application.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#$application.addOpenObject" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">addOpenObject</a></td><td class=SDescription>Add an object to $application to be closed at the end of the thread. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#$application.get" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">get</a></td><td class=SDescription>Returns the application variable associated with the supplied key</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#$application.getData" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">getData</a></td><td class=SDescription>Returns a read-only object representing all of the application&rsquo;s data set via <a href="#$application.set" class=LFunction id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">set</a></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#$application.set" id=link6 onMouseOver="ShowTip(event, 'tt5', 'link6')" onMouseOut="HideTip('tt5')">set</a></td><td class=SDescription>Set the application variable associated with the supplied key, returns <u>value</u></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#$application.clear" id=link7 onMouseOver="ShowTip(event, 'tt6', 'link7')" onMouseOut="HideTip('tt6')">clear</a></td><td class=SDescription>Clears any data in the $application cache</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#$application.reload" id=link8 onMouseOver="ShowTip(event, 'tt7', 'link8')" onMouseOut="HideTip('tt7')">reload</a></td><td class=SDescription>Clears any data in the $application cache, and re-runs <a href="#$application.onApplicationStart" class=LFunction id=link9 onMouseOver="ShowTip(event, 'tt8', 'link9')" onMouseOut="HideTip('tt8')">onApplicationStart</a></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#$application.init" >init</a></td><td class=SDescription>Called before any processing of the request</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#$application.onApplicationStart" id=link10 onMouseOver="ShowTip(event, 'tt8', 'link10')" onMouseOut="HideTip('tt8')">onApplicationStart</a></td><td class=SDescription>Called when a new application scope is created, before <a href="#$application.onRequestStart" class=LFunction id=link11 onMouseOver="ShowTip(event, 'tt9', 'link11')" onMouseOut="HideTip('tt9')">$application.onRequestStart</a>.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#$application.onBeforeRequestStart" id=link12 onMouseOver="ShowTip(event, 'tt10', 'link12')" onMouseOut="HideTip('tt10')">onBeforeRequestStart</a></td><td class=SDescription>Called before any parent request start functions.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#$application.onRequestStart" id=link13 onMouseOver="ShowTip(event, 'tt9', 'link13')" onMouseOut="HideTip('tt9')">onRequestStart</a></td><td class=SDescription>Called before processing a request, but after and parent onRequestStart functions.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#$application.onRequestEnd" id=link14 onMouseOver="ShowTip(event, 'tt11', 'link14')" onMouseOut="HideTip('tt11')">onRequestEnd</a></td><td class=SDescription>Called after processing a request.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#$application.onError" id=link15 onMouseOver="ShowTip(event, 'tt12', 'link15')" onMouseOut="HideTip('tt12')">onError</a></td><td class=SDescription>Called when a an error occurs.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#$application.onError404" id=link16 onMouseOver="ShowTip(event, 'tt13', 'link16')" onMouseOut="HideTip('tt13')">onError404</a></td><td class=SDescription>Called when a request for a non-existent file occurs.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#$application.onSessionStart" id=link17 onMouseOver="ShowTip(event, 'tt14', 'link17')" onMouseOut="HideTip('tt14')">onSessionStart</a></td><td class=SDescription>Called when a new session is created, before <a href="#$application.onRequestStart" class=LFunction id=link18 onMouseOver="ShowTip(event, 'tt9', 'link18')" onMouseOut="HideTip('tt9')">$application.onRequestStart</a>.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="$application.Application_Overview"></a>Application Overview</h3><div class=CBody><p class=CParagraph>General Description of application configuration</p><h4 class=CHeading>What is an application?</h4><p class=CParagraph>A Myna application is any collection of content whose top level folder contains an application.sjs file.&nbsp; This file defines $application variables and workflow event handlers.&nbsp; It is possible for applications to overlap and override each other.&nbsp; In the case of web applications that are intended to be complete and stand-alone, the application.sjs will define properties such as appname and version.&nbsp; However, application.sjs file can also be used to set defaults and/or alter the behavior of applications in subfolders.&nbsp; This is considered an anonymous application and does not declare an appname.&nbsp; An example might be if you wanted to set a global error handler.&nbsp; You could place an anonymous application.sjs file in the webroot with an onError function defined that returns true to override the default error handler.&nbsp; Any nested applications that also define an onError handler can optionally override this global handler</p><h4 class=CHeading>$application and application.sjs</h4><p class=CParagraph>The $application object is initialized via an application.sjs file in the current directory or any parent directory.&nbsp; When a Myna file is requested, Myna examines every directory between the web root and the requested file, and includes any application.sjs file it finds, in the order found.&nbsp; Each of these files has an opportunity to:</p><ul class=CBulletList><li>declare application specific variables</li><li>execute functions</li><li>append or prepend $application.onXXX() event functions.&nbsp; See <a href="../Object-js.html#Object.before" class=LFunction id=link20 onMouseOver="ShowTip(event, 'tt16', 'link20')" onMouseOut="HideTip('tt16')">Object.before</a> and <a href="../Object-js.html#Object.after" class=LFunction id=link21 onMouseOver="ShowTip(event, 'tt17', 'link21')" onMouseOut="HideTip('tt17')">Object.after</a> and examples below</li></ul><p class=CParagraph>Once all the application.sjs files have been included, <a href="#$application.onRequestStart" class=LFunction id=link22 onMouseOver="ShowTip(event, 'tt9', 'link22')" onMouseOut="HideTip('tt9')">$application.onRequestStart</a> is called.&nbsp; <a href="#$application.onApplicationStart" class=LFunction id=link23 onMouseOver="ShowTip(event, 'tt8', 'link23')" onMouseOut="HideTip('tt8')">$application.onApplicationStart</a> and <a href="#$application.onSessionStart" class=LFunction id=link24 onMouseOver="ShowTip(event, 'tt14', 'link24')" onMouseOut="HideTip('tt14')">$application.onSessionStart</a> may be called as well.</p><p class=CParagraph>Next, the originally requested Myna file is executed.</p><p class=CParagraph>Finally <a href="#$application.onRequestEnd" class=LFunction id=link25 onMouseOver="ShowTip(event, 'tt11', 'link25')" onMouseOut="HideTip('tt11')">$application.onRequestEnd</a> is called.</p><h4 class=CHeading>Named or Anonymous?</h4><p class=CParagraph>Applications can be named or anonymous.&nbsp; Named applications are registered in the permissions system and also have a variable cache accessed through $application.set/get.&nbsp; Named applications can be imported/exported/installed as Myna Eggs via the &ldquo;Manage Applications&rdquo; section of the Myna Adminstrator.</p><p class=CParagraph>Anonymous applications allow you to define or override variables and alter the workflow of nested applications, i.e. any content in or below the folder that contains the anonymous application.sjs file.</p><h4 class=CHeading>Nested applications</h4><p class=CParagraph>When there are multiple application.sjs file between the webroot and the requested Myna file, they are applied from the webroot inward such that each inner application.sjs overrides its parent.&nbsp; However, the workflow functions are handled a little differently.&nbsp; The workflow functions are actually chains (see &lt;Function.createChainFunction&gt; and &lt;Object.before&gt;/after).&nbsp; This means that if onRequestStart is defined in both an inner and outer application.sjs file, both functions will be executed.&nbsp; The onAfterXX and onRequestStart are executed from the outside-in and all other workflow functions are executed from the inside-out.&nbsp; Like so</p><blockquote><pre class="CCode sh_myna">onRequestStart:outer<br>    onRequestStart:inner<br>        somefile.sjs<br>    onRequestEnd:inner<br>onRequestEnd:outer</pre></blockquote><p class=CParagraph>The order is somewhat more complicated if the onBeforeXX and onAfterXX variants are used</p><blockquote><pre class="CCode sh_myna">    onBeforeRequestStart:inner<br>onBeforeRequestStart:outer<br>onRequestStart:outer<br>    onRequestStart:inner<br>        somefile.sjs<br>    onRequestEnd:inner<br>onRequestEnd:outer<br>onAfterRequestEnd:outer<br>    onAfterRequestEnd:inner</pre></blockquote><p class=CParagraph>It is possible to terminate a chain early by calling arguments.callee.chain.exit() See <a href="../Function-js.html#Function.createChainFunction" class=LFunction id=link26 onMouseOver="ShowTip(event, 'tt18', 'link26')" onMouseOut="HideTip('tt18')">Function.createChainFunction</a> for more detail on manipulating function chains.</p><h4 class=CHeading>Note</h4><p class=CParagraph>To maintain compatibility with older Myna code, an application.sjs file may contain plain JS.&nbsp; In this case it will internally be converted into an &ldquo;init&rdquo; function and executed.</p><h4 class=CHeading>Examples</h4><blockquote><pre class="CCode sh_myna">//from the Myna Adminstrator<br>{<br>    appname:&quot;myna_admin&quot;,<br>    displayName:&quot;Myna Adminstrator&quot;,<br>    noAuthFuses:[&quot;login&quot;,&quot;auth&quot;, &quot;logout&quot;],<br>    defaultFuseAction:&quot;login&quot;,<br>    mainFuseAction:&quot;main&quot;,<br>    onRequestStart:function(){<br>        if (!$req.data.fuseaction) $req.data.fuseaction=this.defaultFuseAction;<br>        //is the user authenticated?<br>        if (this.noAuthFuses.indexOf($req.data.fuseaction.toLowerCase()) != -1) return;<br>        if ( !$cookie.getAuthUserId() ){<br>                $req.data.fuseaction=this.defaultFuseAction;<br>        } else { //is the the user authorized for this fuseaction?<br>            if ($cookie.getAuthUserId() == &quot;myna_admin&quot;) return;<br><br>            var user = $cookie.getAuthUser();<br>            if (user.hasRight(&quot;myna_admin&quot;,&quot;full_admin_access&quot;)) return;<br><br>            $req.data.fuseaction=&quot;no_access&quot;;<br>            throw new Error(&quot;You do not have access to that feature&quot;)<br><br>        }<br><br><br>    },<br>    onApplicationStart:function(){<br>        var props =new Myna.File(&quot;/WEB-INF/classes/cron.properties&quot;)<br>        if (!props.exists()){<br>            props.writeString(&quot;&quot;)<br>        }<br><br>        //Load datasource driver properties<br>        var propFiles = new Myna.File(&quot;/shared/js/libOO/db_properties&quot;).listFiles(&quot;sjs&quot;);<br>        var db_props={}<br><br>        propFiles.forEach(function(propFile){<br>            if (!/[\w]+.sjs$/.test(propFile.getFileName())) return;<br>            var vendor = propFile.getFileName().split(/\./)[0];<br>            var obj={};<br>            Myna.include(propFile,obj);<br>            if (obj.dsInfo){<br>                db_props[vendor] = obj.dsInfo;<br>            }<br>        });<br>        $application.set(&quot;db_properties&quot;,db_props);<br><br>    },<br>    rights:[{<br>        name:&quot;full_admin_access&quot;,<br>        description:&quot;Full access to all Administrator functions&quot;<br>    }]<br>}<br><br><br><br>// an example of anonymous applications and altered workflow.<br><br>// parent folder<br>{<br>    //$application.directory and $application.url are calcularted automatically<br>    layoutFile:$application.directory +&quot;layout/outer_template.ejs&quot;<br>    init:function(){<br>        // This wraps all content generated in a layout file.<br>        // By using &quot;before&quot; in this init function, we are reversing the<br>        // execution order to &quot;inside-out&quot; instead of the default &quot;outside-in&quot;<br>        $application.before(&quot;onRequestEnd&quot;,function(){<br>            if (Page.includeLayout) {<br>                Myna.includeOnce(this.layoutFile,{content:$res.clear()})<br>            }<br>        })<br>    },<br>    onRequestStart:function(){<br>        //decalres global variable that the request page can access<br>        Page={<br>            includeLayout:true,<br>            title:&quot;Parent content&quot;,<br>            breadCrumbs:[{<br>                url:$application.url,<br>                label:&quot;Parent&quot;<br>            }],<br>        }<br>    },<br>}<br><br>//child folder<br>{<br>    layoutFile:$application.directory +&quot;layout/inner_template.ejs&quot;<br>    init:function(){<br>        // This wraps all content generated in a layout file, before the parent wrap.<br>        // By using &quot;before&quot; in this init function, we are reversing the<br>        // execution order to &quot;inside-out&quot; instead of the default &quot;outside-in&quot;<br>        $application.before(&quot;onRequestEnd&quot;,function(){<br>            if (Page.includeLayout) {<br>                Myna.includeOnce(this.layoutFile,{content:$res.clear()})<br>            }<br>        })<br>    },<br>    onRequestStart:function(){<br>        //override page defaults<br>        Page.title = &quot;Child content&quot;<br>        Page.breadCrumbs.push({<br>            url:$application.url,<br>            label:&quot;Child&quot;<br>        })<br>    },<br>}<br><br>//outer_template layout file<br>&lt;html&gt;<br>    &lt;head&gt;&lt;title&gt;&lt;%=Page.title%&gt;&lt;/title&gt;&lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;!-- Breadcrumbs --&gt;<br>        &lt;div class=&quot;header-breadcrumbs&quot;&gt;<br>            &lt;ul&gt;<br>            &lt;@loop array=&quot;Page.breadCrumbs&quot; element=&quot;bc&quot;&gt;<br>                &lt;li&gt;&lt;a href=&quot;&lt;%=bc.url%&gt;&quot;&gt;&lt;%=bc.label%&gt;&lt;/a&gt;&lt;/li&gt;<br>            &lt;/@loop&gt;<br>            &lt;/ul&gt;<br>        &lt;/div&gt;<br>        &lt;div id=&quot;main_content&quot;&gt;&lt;%=this.content%&gt;&lt;/div&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br><br>//inner_template layout file<br><br>&lt;div id=&quot;inner_content&quot;&gt;<br>    &lt;h1&gt; Here is the inner layout &lt;/h1&gt;<br>    &lt;%=this.content%&gt;<br>&lt;/div&gt;</pre></blockquote><h4 class=CHeading>See</h4><ul class=CBulletList><li><a href="#$application.Application_Template" class=LGeneric >Application Template</a></li></ul><h4 class=CHeading>See also</h4><ul class=CBulletList><li><a href="../Myna-sjs.html#Myna.loadAppProperties" class=LFunction id=link27 onMouseOver="ShowTip(event, 'tt19', 'link27')" onMouseOut="HideTip('tt19')">Myna.loadAppProperties</a></li></ul></div></div>

<div class="CGeneric CTopic"><h3 class=CTitle><a name="$application.Application_Template"></a>Application Template</h3><div class=CBody><h4 class=CHeading>The application.sjs file should conform to this template</h4><blockquote><pre class="CCode sh_myna">{<br>    //--------- properties -----------------------------------------------<br>        // you can access these properties from another app via Myna.loadAppProperties()<br>    appname:&quot;&quot;,// unique variable name of this application, omit this for anonymous applications<br>    idleMinutes:60,// Lifetime of Application variable cache<br>    //--------- app package properties<br>        displayName:&quot;&quot;,// &quot;pretty&quot; name used in labels and titles<br>        description:&lt;ejs&gt;<br><br>        &lt;/ejs&gt;,//short description of application<br>        author:&quot;&quot;, //name of app author<br>        authorEmail:&quot;&quot;,// email of app author<br>        website:&quot;&quot;,//website associated with this app<br>        version:&quot;&quot;, //app version. This should be a dot notation<br>        minMynaVersion:null,// Minimum version of Myna the app might run on<br>        postInstallUrl:null,// URL that should be visited first after deployment, relative to app install dir<br><br>    //--------- local properties -----------------------------------------<br>    myProp:&quot;&quot;,<br><br>    //--------- init method ----------------------------------------------<br>    init:function(){    // this is run before any workflow methods to setup the application.<br><br>    },<br><br>    //--------- workflow methods -----------------------------------------<br>    onApplicationStart:function(){ // run if application cache has expired<br><br>    },<br>    onRequestStart:function(){ // run directly before requested file<br><br>    },<br>    onRequestEnd:function(){ // run directly after requested file<br><br>    },<br>    onSessionStart:function(){ // run before a call to $session.get/set when session is expired<br><br>    },<br>    onError:function(){ //run when an error occurs. Return true to cancel default.<br><br>    },<br>    onError404:function(){ //run when a call to a non-existent file is made. Return true to cancel default.<br><br>    },<br>    rights:[], // an array of Myna.Permissions.Right definitions to be created<br>}</pre></blockquote></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="$application.Properties"></a>Properties</h3></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.appname"></a>appname</h3><div class=CBody><p class=CParagraph>String application name.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>Should only contain letters, numbers and the underbar (_) character.&nbsp; If set, an application cache is created.&nbsp; Variables can be set and retrieved from this scope via <a href="#$application.set" class=LFunction id=link28 onMouseOver="ShowTip(event, 'tt5', 'link28')" onMouseOut="HideTip('tt5')">$application.set</a> and <a href="#$application.get" class=LFunction id=link29 onMouseOver="ShowTip(event, 'tt3', 'link29')" onMouseOut="HideTip('tt3')">$application.get</a>.&nbsp; Setting an appname also registers this application in the permissions system</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>appname:&quot;myna_admin&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.displayName"></a>displayName</h3><div class=CBody><p class=CParagraph>String application name for displaying to humans <b>Default appname</b>.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This should be a single line title for the application as you might display in you page title</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>displayName:&quot;Myna Administrator&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.description"></a>description</h3><div class=CBody><p class=CParagraph>Short description of this application</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>description:&quot;Manages Myna server settings&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.author"></a>author</h3><div class=CBody><p class=CParagraph>Name of  the author of this application</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>author:&quot;Mark Porter&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.authorEmail"></a>authorEmail</h3><div class=CBody><p class=CParagraph>email of the author of this application</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>authorEmail:&quot;mark@porterpeople.com&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.website"></a>website</h3><div class=CBody><p class=CParagraph>Website associated with this application</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>website:&quot;http://www.mynajs.org&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.version"></a>version</h3><div class=CBody><p class=CParagraph>Application version</p><p class=CParagraph>This should be in dot notation such that <a href="../String-js.html#String.compareNatural" class=LFunction id=link30 onMouseOver="ShowTip(event, 'tt20', 'link30')" onMouseOut="HideTip('tt20')">String.compareNatural</a> will sort the version properly.&nbsp; Here is an example for testing a version scheme:</p><blockquote><pre class="CCode sh_myna">var v = [<br>    &quot;1.0_beta_5-1&quot;,<br>    &quot;1.0_beta_5-2&quot;,<br>    &quot;1.0_beta_6-1&quot;,<br>    &quot;1.0_alpha_5-1&quot;,<br>    &quot;1.0_rc_1-2&quot;,<br>    &quot;1.0_stable&quot;,<br>    &quot;1.1_alpha_1&quot;,<br>    &quot;1.1_beta_2&quot;,<br>    &quot;1.1_stable&quot;,<br>]<br>v.sort(String.compareNatural)<br>Myna.printDump(v)<br>v.sort(String.compareNaturalReverse)<br>Myna.printDump(v)</pre></blockquote><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>version:&quot;1.0_beta_5-1&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.minMynaVersion"></a>minMynaVersion</h3><div class=CBody><p class=CParagraph>Minimum version of Myna this application is likely to work with</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>website:&quot;1.0_beta_5-1&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.postInstallUrl"></a>postInstallUrl</h3><div class=CBody><p class=CParagraph>URL that should be visited first after deployment, relative to the application&rsquo;s install directory</p><p class=CParagraph>This should be null unless your application requires setup beyond copying files.</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">..<br>website:&quot;1.0_beta_5-1&quot;,<br>..</pre></blockquote></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.idleMinutes"></a>idleMinutes</h3><div class=CBody><p class=CParagraph>Max time in minutes between application data access before app memory is recovered <b>Default 60</b>.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>Any data set in the application scope should be expected to be destroyed at some point.&nbsp; Persistent data should be set in <a href="#$application.onApplicationStart" class=LFunction id=link31 onMouseOver="ShowTip(event, 'tt8', 'link31')" onMouseOut="HideTip('tt8')">$application.onApplicationStart</a> since that function is called before <a href="#$application.onRequestStart" class=LFunction id=link32 onMouseOver="ShowTip(event, 'tt9', 'link32')" onMouseOut="HideTip('tt9')">$application.onRequestStart</a> when the application cache has timed out.</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.rights"></a>rights</h3><div class=CBody><p class=CParagraph>Array of <a href="../Permissions-sjs.html#Myna.Permissions.Right" class=LClass id=link33 onMouseOver="ShowTip(event, 'tt1', 'link33')" onMouseOut="HideTip('tt1')">Myna.Permissions.Right</a> definitions</p><h4 class=CHeading>Detail</h4><p class=CParagraph>Any rights defined here will be created/updated before <a href="#$application.onApplicationStart" class=LFunction id=link34 onMouseOver="ShowTip(event, 'tt8', 'link34')" onMouseOut="HideTip('tt8')">$application.onApplicationStart</a>.&nbsp; The &ldquo;appname&rdquo; property is automatically added</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.directory"></a>directory</h3><div class=CBody><p class=CParagraph>MynaPath of directory of closest application.sjs <b>CALCULATED</b></p><h4 class=CHeading>Detail</h4><p class=CParagraph>application.sjs files are loaded consecutively from the web root to the requested file.&nbsp; Inside an application.sjs file, this represents the directory of the currently executing application.sjs file.&nbsp; Because each consecutive application.sjs file overwrites this property, it will always represent the innermost application.</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.url"></a>url</h3><div class=CBody><p class=CParagraph>URL path of closest application.sjs <b>CALCULATED</b></p><h4 class=CHeading>Detail</h4><p class=CParagraph>application.sjs files are loaded consecutively from the web root to the requested file.&nbsp; This property is the URL path of the last application.sjs file to run and generally represents the  &ldquo;home&rdquo; directory of the application.</p><h4 class=CHeading>Example</h4><p class=CParagraph>/servlet-context/my_app/</p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="$application.closeArray"></a>closeArray</h3><div class=CBody><p class=CParagraph>Array of resources onwhich we should cal close() on request end.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This is primarily to ensure the release of jdbc connection, statement, and resultSet objects, but anything with a close() function can be pushed onto this array.</p><h4 class=CHeading>See</h4><p class=CParagraph><a href="#$application.addOpenObject" class=LFunction id=link35 onMouseOver="ShowTip(event, 'tt2', 'link35')" onMouseOut="HideTip('tt2')">addOpenObject</a></p></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="$application.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.addOpenObject"></a>addOpenObject</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addOpenObject:function(</td><td class=PParameter nowrap>obj</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Add an object to $application to be closed at the end of the thread.&nbsp; Any object with a close() function can be added.&nbsp; Intended for resource cleanup.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>obj</td><td class=CDLDescription>an object with a close() function</td></tr></table><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">function getFileStream(path){<br>    var fis = new java.io.FileInputStream(new File(scriptPath).javaFile);<br>    // we can't be sure the caller will close this stream, so we'll register<br>    // fis to be closed at the end of the thread<br>    $application.addOpenObject(fis);<br>    return fis;<br>}</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.get"></a>get</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>get:function(</td><td class=PParameter nowrap>key</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Returns the application variable associated with the supplied key</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>key</td><td class=CDLDescription>String variable name</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>The application variable associated with the supplied <u>key</u>.</p><h4 class=CHeading>Note</h4><p class=CParagraph>application variables are deleted after <a href="#$application.idleMinutes" class=LProperty id=link36 onMouseOver="ShowTip(event, 'tt21', 'link36')" onMouseOut="HideTip('tt21')">idleMinutes</a> of inactivity Example:</p><blockquote><pre class="CCode sh_myna">var lastUser = $application.get(&quot;lastUser&quot;)||$cookie.getAuthUser();</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.getData"></a>getData</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getData:function(</td><td class=PParameter nowrap>key</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Returns a read-only object representing all of the application&rsquo;s data set via <a href="#$application.set" class=LFunction id=link37 onMouseOver="ShowTip(event, 'tt5', 'link37')" onMouseOut="HideTip('tt5')">set</a></p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>key</td><td class=CDLDescription>String variable name</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>The application variable associated with the supplied <u>key</u>.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.set"></a>set</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>set:function(</td><td class=PParameter nowrap>key,</td></tr><tr><td></td><td class=PParameter nowrap>value</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p class=CParagraph>Set the application variable associated with the supplied key, returns <u>value</u></p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>key</td><td class=CDLDescription>String variable name</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>value to set</td></tr></table><h4 class=CHeading>Note</h4><p class=CParagraph>application variables are deleted after <a href="#$application.idleMinutes" class=LProperty id=link38 onMouseOver="ShowTip(event, 'tt21', 'link38')" onMouseOut="HideTip('tt21')">idleMinutes</a> of inactivity Example:</p><blockquote><pre class="CCode sh_myna">$application.set(&quot;lastUser&quot;,$cookie.getAuthUser());</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.clear"></a>clear</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>clear:function()</td></tr></table></blockquote><p class=CParagraph>Clears any data in the $application cache</p><p class=CParagraph>This causes the next load of a page in this application to trigger <a href="#$application.onApplicationStart" class=LFunction id=link39 onMouseOver="ShowTip(event, 'tt8', 'link39')" onMouseOut="HideTip('tt8')">onApplicationStart</a></p><h4 class=CHeading>Warning</h4><p class=CParagraph>This might causes errors if other threads are currently accessing the $application cache.&nbsp; To reduce the chances of this, see <a href="#$application.reload" class=LFunction id=link40 onMouseOver="ShowTip(event, 'tt7', 'link40')" onMouseOut="HideTip('tt7')">reload</a></p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">$application.clear();</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.reload"></a>reload</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>reload:function()</td></tr></table></blockquote><p class=CParagraph>Clears any data in the $application cache, and re-runs <a href="#$application.onApplicationStart" class=LFunction id=link41 onMouseOver="ShowTip(event, 'tt8', 'link41')" onMouseOut="HideTip('tt8')">onApplicationStart</a></p><h4 class=CHeading>Warning</h4><p class=CParagraph>This might causes errors if other threads are currently accessing the $application cache, and they try to access a parameter not set in <a href="#$application.onApplicationStart" class=LFunction id=link42 onMouseOver="ShowTip(event, 'tt8', 'link42')" onMouseOut="HideTip('tt8')">onApplicationStart</a>.</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">$application.reload();</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.init"></a>init</h3><div class=CBody><p class=CParagraph>Called before any processing of the request</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This function is called after loading the $application.sjs file, but before any nested application.sjs files.&nbsp; This is intended for more complicated configuration of the $application object.</p><p class=CParagraph>This function does nothing unless it is defined in an application.sjs file.</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">//in application.sjs<br>{<br>    init:function(){<br>        // Inits are always executed outside-in. This causes the DS to be<br>        // set by the outermost folder<br>        if (!$application.ds){<br>            if ($server.properties.instance_purpose.toLowerCase() == &quot;dev&quot;){<br>                $application.ds=&quot;hr_dev&quot;<br>            } else {<br>                $application.ds=&quot;hr_prod&quot;<br>            }<br>        }<br>    }<br>}</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.onApplicationStart"></a>onApplicationStart</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onApplicationStart:function()</td></tr></table></blockquote><p class=CParagraph>Called when a new application scope is created, before <a href="#$application.onRequestStart" class=LFunction id=link43 onMouseOver="ShowTip(event, 'tt9', 'link43')" onMouseOut="HideTip('tt9')">$application.onRequestStart</a>.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>A new application scope is typically created on server restart or the first request after a cache timeout.</p><p class=CParagraph>This function does nothing unless it is appended or replaced in an application.sjs file.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.onBeforeRequestStart"></a>onBeforeRequestStart</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onBeforeRequestStart:function()</td></tr></table></blockquote><p class=CParagraph>Called before any parent request start functions.</p><p class=CParagraph>Calling arguments.callee.chain.exit() will exit the chain and prevent any further request start functions from executing</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.onRequestStart"></a>onRequestStart</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onRequestStart:function()</td></tr></table></blockquote><p class=CParagraph>Called before processing a request, but after and parent onRequestStart functions.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This function is called after all the initial request processing, but before executing the requested file.</p><p class=CParagraph>This function does nothing unless it is appended or replaced in an application.sjs file.</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">//in application.sjs<br>{<br>    onRequestStart:function(){<br>        // create a DataManager with a datasource that<br>        // has the same name as the application directory<br>        dm = new Myna.DataManager(new Myna.File($application.directory).getFileName);<br>    }<br>}</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.onRequestEnd"></a>onRequestEnd</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onRequestEnd:function()</td></tr></table></blockquote><p class=CParagraph>Called after processing a request.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This function is called after executing the requested file, but before sending output to the browser.</p><p class=CParagraph>This function does nothing unless it is appended or replaced in an application.sjs file.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.onError"></a>onError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onError:function()</td></tr></table></blockquote><p class=CParagraph>Called when a an error occurs.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>exception</td><td class=CDLDescription>a caught exception object</td></tr></table><h4 class=CHeading>Detail</h4><p class=CParagraph>This function is executed before the default error handler.&nbsp; Return true to cancel the default error handler.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.onError404"></a>onError404</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onError404:function()</td></tr></table></blockquote><p class=CParagraph>Called when a request for a non-existent file occurs.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This function is executed before the default 404 error handler.&nbsp; You can Use this to provide your own &ldquo;missing file&rdquo; error handler.</p><p class=CParagraph>Return true to cancel the default 404  error handler.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="$application.onSessionStart"></a>onSessionStart</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onSessionStart:function()</td></tr></table></blockquote><p class=CParagraph>Called when a new session is created, before <a href="#$application.onRequestStart" class=LFunction id=link44 onMouseOver="ShowTip(event, 'tt9', 'link44')" onMouseOut="HideTip('tt9')">$application.onRequestStart</a>.</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This function does nothing unless it is appended or replaced in an application.sjs file.</p></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div id=MTitle>Myna Application Server<div id=MSubTitle>JavaScript documentation</div></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent1')">Misc Topics</a><div class=MGroupContent id=MGroupContent1><div class="MFile MEntry"><a href="../install-txt.html">Myna Commandline</a></div><div class="MFile MEntry"><a href="../MynaPath-txt.html">MynaPath</a></div><div class="MFile MEntry"><a href="../auth_adapters/auth_adapters-txt.html">AuthAdapters</a></div><div class="MFile MEntry"><a href="../auth_adapters/ldap-sjs.html">LDAP Auth Adapter</a></div><div class="MFile MEntry"><a href="../debug_window-js.html">debug_window.js</a></div><div class="MFile MEntry"><a href="../ObjectLib-js.html">ObjectLib</a></div></div></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent2')">JavaScript Global Objects</a><div class=MGroupContent id=MGroupContent2><div class="MFile MEntry"><a href="../Array-js.html">Array</a></div><div class="MFile MEntry"><a href="../Date-js.html">Date</a></div><div class="MFile MEntry"><a href="../Function-js.html">Function</a></div><div class="MFile MEntry"><a href="../Number-js.html">Number</a></div><div class="MFile MEntry"><a href="../Object-js.html">Object</a></div><div class="MFile MEntry"><a href="../String-js.html">String</a></div></div></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent3')">Myna Global Objects</a><div class=MGroupContent id=MGroupContent3><div class="MFile MEntry" id=MSelected>$application</div><div class="MFile MEntry"><a href="cookie-sjs.html">$cookie</a></div><div class="MFile MEntry"><a href="profiler-sjs.html">$profiler</a></div><div class="MFile MEntry"><a href="req-sjs.html">$req</a></div><div class="MFile MEntry"><a href="res-sjs.html">$res</a></div><div class="MFile MEntry"><a href="server-sjs.html">$server</a></div><div class="MFile MEntry"><a href="session-sjs.html">$session</a></div></div></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent4')">Myna Object</a><div class=MGroupContent id=MGroupContent4><div class="MFile MEntry"><a href="../Myna-sjs.html">Myna</a></div><div class="MFile MEntry"><a href="../Cache-sjs.html">Myna.<span class=HB> </span>Cache</a></div><div class="MFile MEntry"><a href="../Cluster-sjs.html">Myna.<span class=HB> </span>Cluster</a></div><div class="MFile MEntry"><a href="../CommonJS-sjs.html">Myna.<span class=HB> </span>CommonJS</a></div><div class="MFile MEntry"><a href="../Database-sjs.html">Myna.<span class=HB> </span>Database</a></div><div class="MFile MEntry"><a href="../DataManager-sjs.html">Myna.<span class=HB> </span>DataManager</a></div><div class="MFile MEntry"><a href="../DataSet-sjs.html">Myna.<span class=HB> </span>DataSet</a></div><div class="MFile MEntry"><a href="../Event-sjs.html">Myna.<span class=HB> </span>Event</a></div><div class="MFile MEntry"><a href="../File-sjs.html">Myna.File</a></div><div class="MFile MEntry"><a href="../HttpConnection-sjs.html">Myna.<span class=HB> </span>HttpConnection</a></div><div class="MFile MEntry"><a href="../JavaUtils-sjs.html">Myna.<span class=HB> </span>JavaUtils</a></div><div class="MFile MEntry"><a href="../KeyStore-sjs.html">Myna.<span class=HB> </span>KeyStore</a></div><div class="MFile MEntry"><a href="../Ldap-sjs.html">Myna.Ldap</a></div><div class="MFile MEntry"><a href="../Mail-sjs.html">Myna.Mail</a></div><div class="MFile MEntry"><a href="../Permissions-sjs.html">Myna.<span class=HB> </span>Permissions</a></div><div class="MFile MEntry"><a href="../Profiler-js.html">Myna.<span class=HB> </span>Profiler</a></div><div class="MFile MEntry"><a href="../Query-sjs.html">Myna.<span class=HB> </span>Query</a></div><div class="MFile MEntry"><a href="../Swing-sjs.html">Myna.<span class=HB> </span>Swing</a></div><div class="MFile MEntry"><a href="../Table-sjs.html">Myna.<span class=HB> </span>Table</a></div><div class="MFile MEntry"><a href="../Template-sjs.html">Myna.<span class=HB> </span>Template</a></div><div class="MFile MEntry"><a href="../Thread-sjs.html">Myna.<span class=HB> </span>Thread</a></div><div class="MFile MEntry"><a href="../ValidationResult-js.html">Myna.<span class=HB> </span>ValidationResult</a></div><div class="MFile MEntry"><a href="../WebService-sjs.html">Myna.<span class=HB> </span>WebService</a></div></div></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent5')">Index</a><div class=MGroupContent id=MGroupContent5><div class="MIndex MEntry"><a href="../../index/General.html">Everything</a></div><div class="MIndex MEntry"><a href="../../index/GlobalVariables.html">Global Variables</a></div><div class="MIndex MEntry"><a href="../../index/Classes.html">Classes</a></div><div class="MIndex MEntry"><a href="../../index/Functions.html">Functions</a></div><div class="MIndex MEntry"><a href="../../index/Files.html">Files</a></div><div class="MIndex MEntry"><a href="../../index/Properties.html">Properties</a></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="GlobalVariables">Global Variables</option><option value="Properties">Properties</option></select></div><div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div><script language=JavaScript><!--
if (document.getElementById){for (var menu = 1; menu < 6; menu++){if (menu != 3 && menu != 2 && menu != 1){document.getElementById("MGroupContent" + menu).style.display = "block";};};}// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CClass>Provides access to Right specific actions. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>addOpenObject:function(</td><td class=PParameter nowrap>obj</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Add an object to $application to be closed at the end of the thread. </div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>get:function(</td><td class=PParameter nowrap>key</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Returns the application variable associated with the supplied key</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>getData:function(</td><td class=PParameter nowrap>key</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Returns a read-only object representing all of the application&rsquo;s data set via set</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>set:function(</td><td class=PParameter nowrap>key,</td></tr><tr><td></td><td class=PParameter nowrap>value</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Set the application variable associated with the supplied key, returns <u>value</u></div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>clear:function()</td></tr></table></blockquote>Clears any data in the $application cache</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>reload:function()</td></tr></table></blockquote>Clears any data in the $application cache, and re-runs onApplicationStart</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onApplicationStart:function()</td></tr></table></blockquote>Called when a new application scope is created, before $application.onRequestStart.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onRequestStart:function()</td></tr></table></blockquote>Called before processing a request, but after and parent onRequestStart functions.</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onBeforeRequestStart:function()</td></tr></table></blockquote>Called before any parent request start functions.</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onRequestEnd:function()</td></tr></table></blockquote>Called after processing a request.</div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onError:function()</td></tr></table></blockquote>Called when a an error occurs.</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onError404:function()</td></tr></table></blockquote>Called when a request for a non-existent file occurs.</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>onSessionStart:function()</td></tr></table></blockquote>Called when a new session is created, before $application.onRequestStart.</div></div><div class=CToolTip id="tt15"><div class=CGeneric>General Description of application configuration</div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Object.prototype.before=function(</td><td class=PParameter nowrap>functionName,</td></tr><tr><td></td><td class=PParameter nowrap>functionObj</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Prepends supplied function to the event chain of this object.</div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Object.prototype.after=function(</td><td class=PParameter nowrap>functionName,</td></tr><tr><td></td><td class=PParameter nowrap>functionObj</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Appends supplied function to the event chain of this object.</div></div><div class=CToolTip id="tt18"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Function.createChainFunction=function(</td><td class=PParameter nowrap>initialChain</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>returns a function that will execute a chain of functions when called.</div></div><div class=CToolTip id="tt19"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Myna.loadAppProperties=function Myna_loadProperties(</td><td class=PParameter nowrap>filepath</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>loads an application.sjs file and returns the parsed app object</div></div><div class=CToolTip id="tt20"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>String.compareNatural = function(</td><td class=PParameter nowrap>a,</td></tr><tr><td></td><td class=PParameter nowrap>b</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>A static sort function that will compare two strings in a natural way.</div></div><div class=CToolTip id="tt21"><div class=CProperty>Max time in minutes between application data access before app memory is recovered <b>Default 60</b>.</div></div><!--END_ND_TOOLTIPS-->




<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>